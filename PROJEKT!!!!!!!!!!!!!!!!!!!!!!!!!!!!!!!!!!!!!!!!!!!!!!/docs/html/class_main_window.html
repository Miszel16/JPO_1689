<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Monitor Jakości Powietrza: MainWindow Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Monitor Jakości Powietrza
   </div>
   <div id="projectbrief">Qt/QML app for air quality monitoring - online/offline snapshot</div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('class_main_window.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#signals">Signals</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#properties">Properties</a> &#124;
<a href="#pri-slots">Private Slots</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="class_main_window-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">MainWindow Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="mainwindow_8h_source.html">mainwindow.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for MainWindow:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_main_window.png" alt=""/>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="signals" name="signals"></a>
Signals</h2></td></tr>
<tr class="memitem:ad6d230c53c3628833a80896fa729c06a" id="r_ad6d230c53c3628833a80896fa729c06a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad6d230c53c3628833a80896fa729c06a">stationsChanged</a> ()</td></tr>
<tr class="separator:ad6d230c53c3628833a80896fa729c06a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91c4b769235bc0aafc20ad7b2fb2a1e3" id="r_a91c4b769235bc0aafc20ad7b2fb2a1e3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a91c4b769235bc0aafc20ad7b2fb2a1e3">sensorsChanged</a> ()</td></tr>
<tr class="separator:a91c4b769235bc0aafc20ad7b2fb2a1e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95811818c6bbba9387599028cd2a4b42" id="r_a95811818c6bbba9387599028cd2a4b42"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a95811818c6bbba9387599028cd2a4b42">sensorMeasurementsChanged</a> ()</td></tr>
<tr class="separator:a95811818c6bbba9387599028cd2a4b42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34d59288f05742b9a8f3b087f3c4faa7" id="r_a34d59288f05742b9a8f3b087f3c4faa7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a34d59288f05742b9a8f3b087f3c4faa7">selectedStationChanged</a> ()</td></tr>
<tr class="separator:a34d59288f05742b9a8f3b087f3c4faa7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb31267dab151ff2328629559832cb1d" id="r_acb31267dab151ff2328629559832cb1d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acb31267dab151ff2328629559832cb1d">selectedSensorChanged</a> ()</td></tr>
<tr class="separator:acb31267dab151ff2328629559832cb1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4d719c188dc1a3f595bef2c75c13e9a" id="r_ac4d719c188dc1a3f595bef2c75c13e9a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac4d719c188dc1a3f595bef2c75c13e9a">airQualityIndexChanged</a> ()</td></tr>
<tr class="separator:ac4d719c188dc1a3f595bef2c75c13e9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af63d0bdd203b1b2d04bb90c96493f617" id="r_af63d0bdd203b1b2d04bb90c96493f617"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af63d0bdd203b1b2d04bb90c96493f617">statusChanged</a> ()</td></tr>
<tr class="separator:af63d0bdd203b1b2d04bb90c96493f617"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff62f1b26fca3dc2abceebc8e6827d4b" id="r_aff62f1b26fca3dc2abceebc8e6827d4b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aff62f1b26fca3dc2abceebc8e6827d4b">sensorViewVisibleChanged</a> ()</td></tr>
<tr class="separator:aff62f1b26fca3dc2abceebc8e6827d4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f31d14cf5c4d7d140d95ca3b1221913" id="r_a2f31d14cf5c4d7d140d95ca3b1221913"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2f31d14cf5c4d7d140d95ca3b1221913">chartViewVisibleChanged</a> ()</td></tr>
<tr class="separator:a2f31d14cf5c4d7d140d95ca3b1221913"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f773b53838914b4aebce97693344381" id="r_a9f773b53838914b4aebce97693344381"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9f773b53838914b4aebce97693344381">lastUpdateChanged</a> ()</td></tr>
<tr class="separator:a9f773b53838914b4aebce97693344381"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ad26de6668fdf645d615bca9c70ae87ea" id="r_ad26de6668fdf645d615bca9c70ae87ea"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad26de6668fdf645d615bca9c70ae87ea">MainWindow</a> (QObject *parent=nullptr)</td></tr>
<tr class="separator:ad26de6668fdf645d615bca9c70ae87ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae98d00a93bc118200eeef9f9bba1dba7" id="r_ae98d00a93bc118200eeef9f9bba1dba7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae98d00a93bc118200eeef9f9bba1dba7">~MainWindow</a> ()</td></tr>
<tr class="separator:ae98d00a93bc118200eeef9f9bba1dba7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd4e34cbb1e845a35c9d09ef4c390ffc" id="r_abd4e34cbb1e845a35c9d09ef4c390ffc"><td class="memItemLeft" align="right" valign="top">Q_INVOKABLE void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abd4e34cbb1e845a35c9d09ef4c390ffc">fetchStations</a> ()</td></tr>
<tr class="separator:abd4e34cbb1e845a35c9d09ef4c390ffc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a837ddfe5aeaffc3064f27d40da64c8fe" id="r_a837ddfe5aeaffc3064f27d40da64c8fe"><td class="memItemLeft" align="right" valign="top">Q_INVOKABLE void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a837ddfe5aeaffc3064f27d40da64c8fe">fetchSensors</a> (int stationId)</td></tr>
<tr class="separator:a837ddfe5aeaffc3064f27d40da64c8fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a4142aea647648c3393594409739e69" id="r_a8a4142aea647648c3393594409739e69"><td class="memItemLeft" align="right" valign="top">Q_INVOKABLE void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8a4142aea647648c3393594409739e69">openSensorChart</a> (QVariantMap sensor)</td></tr>
<tr class="separator:a8a4142aea647648c3393594409739e69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afffedfe87ba6c835e4e80676ae8f7bf8" id="r_afffedfe87ba6c835e4e80676ae8f7bf8"><td class="memItemLeft" align="right" valign="top">Q_INVOKABLE void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afffedfe87ba6c835e4e80676ae8f7bf8">goBackToStationList</a> ()</td></tr>
<tr class="separator:afffedfe87ba6c835e4e80676ae8f7bf8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace1d78d77ce0fa6850f611034e1218eb" id="r_ace1d78d77ce0fa6850f611034e1218eb"><td class="memItemLeft" align="right" valign="top">Q_INVOKABLE void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ace1d78d77ce0fa6850f611034e1218eb">goBackToSensorList</a> ()</td></tr>
<tr class="separator:ace1d78d77ce0fa6850f611034e1218eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe94ec38db2b3cbadd7bd959b4d7d3e5" id="r_afe94ec38db2b3cbadd7bd959b4d7d3e5"><td class="memItemLeft" align="right" valign="top">Q_INVOKABLE void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afe94ec38db2b3cbadd7bd959b4d7d3e5">filterStationsByCity</a> (const QString &amp;city)</td></tr>
<tr class="separator:afe94ec38db2b3cbadd7bd959b4d7d3e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aceffba665b00b06bd9b888b3117de5d1" id="r_aceffba665b00b06bd9b888b3117de5d1"><td class="memItemLeft" align="right" valign="top">Q_INVOKABLE void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aceffba665b00b06bd9b888b3117de5d1">saveDataToFileOnly</a> ()</td></tr>
<tr class="separator:aceffba665b00b06bd9b888b3117de5d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0afd434f13cc0d71c19cc927145c59c6" id="r_a0afd434f13cc0d71c19cc927145c59c6"><td class="memItemLeft" align="right" valign="top">Q_INVOKABLE void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0afd434f13cc0d71c19cc927145c59c6">setSelectedStation</a> (QVariantMap station)</td></tr>
<tr class="separator:a0afd434f13cc0d71c19cc927145c59c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa806087b55ef11ef8d30ae0b376d00ee" id="r_aa806087b55ef11ef8d30ae0b376d00ee"><td class="memItemLeft" align="right" valign="top">Q_INVOKABLE void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa806087b55ef11ef8d30ae0b376d00ee">saveTestDataForAllStations</a> ()</td></tr>
<tr class="separator:aa806087b55ef11ef8d30ae0b376d00ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a8866e8799aeab1b7346395f410a5f8b6" id="r_a8866e8799aeab1b7346395f410a5f8b6"><td class="memItemLeft" align="right" valign="top">QThread *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8866e8799aeab1b7346395f410a5f8b6">m_workerThread</a> = nullptr</td></tr>
<tr class="separator:a8866e8799aeab1b7346395f410a5f8b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86041b7cbfde456b3d51ad8d9c533557" id="r_a86041b7cbfde456b3d51ad8d9c533557"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_data_saver_worker.html">DataSaverWorker</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a86041b7cbfde456b3d51ad8d9c533557">m_dataWorker</a> = nullptr</td></tr>
<tr class="separator:a86041b7cbfde456b3d51ad8d9c533557"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="properties" name="properties"></a>
Properties</h2></td></tr>
<tr class="memitem:a3b94a120f9ce9d4f2786d96837917be4" id="r_a3b94a120f9ce9d4f2786d96837917be4"><td class="memItemLeft" align="right" valign="top">QVariantList&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3b94a120f9ce9d4f2786d96837917be4">stations</a></td></tr>
<tr class="separator:a3b94a120f9ce9d4f2786d96837917be4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e3c2790fab23140b174eea542d9ea73" id="r_a8e3c2790fab23140b174eea542d9ea73"><td class="memItemLeft" align="right" valign="top">QVariantList&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8e3c2790fab23140b174eea542d9ea73">sensors</a></td></tr>
<tr class="separator:a8e3c2790fab23140b174eea542d9ea73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72c0a35a7ae767146d02799d725cd605" id="r_a72c0a35a7ae767146d02799d725cd605"><td class="memItemLeft" align="right" valign="top">QVariantList&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a72c0a35a7ae767146d02799d725cd605">sensorMeasurements</a></td></tr>
<tr class="separator:a72c0a35a7ae767146d02799d725cd605"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a421ec1f271ac294ca1db2b095b1070e2" id="r_a421ec1f271ac294ca1db2b095b1070e2"><td class="memItemLeft" align="right" valign="top">QVariantMap&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a421ec1f271ac294ca1db2b095b1070e2">selectedStation</a></td></tr>
<tr class="separator:a421ec1f271ac294ca1db2b095b1070e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af81eef6abdd790606cee564846d4567a" id="r_af81eef6abdd790606cee564846d4567a"><td class="memItemLeft" align="right" valign="top">QVariantMap&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af81eef6abdd790606cee564846d4567a">selectedSensor</a></td></tr>
<tr class="separator:af81eef6abdd790606cee564846d4567a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55d95515b8a7ee77ce8d1ccbfb30fcf3" id="r_a55d95515b8a7ee77ce8d1ccbfb30fcf3"><td class="memItemLeft" align="right" valign="top">QVariantMap&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a55d95515b8a7ee77ce8d1ccbfb30fcf3">airQualityIndex</a></td></tr>
<tr class="separator:a55d95515b8a7ee77ce8d1ccbfb30fcf3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f87209377d9aea8edec2169053b620e" id="r_a0f87209377d9aea8edec2169053b620e"><td class="memItemLeft" align="right" valign="top">QString&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0f87209377d9aea8edec2169053b620e">status</a></td></tr>
<tr class="separator:a0f87209377d9aea8edec2169053b620e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af64572b8375f9f9e3156e5c7805a3abb" id="r_af64572b8375f9f9e3156e5c7805a3abb"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af64572b8375f9f9e3156e5c7805a3abb">sensorViewVisible</a></td></tr>
<tr class="separator:af64572b8375f9f9e3156e5c7805a3abb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7418dfec13aa9c1f24e68768d50c42ba" id="r_a7418dfec13aa9c1f24e68768d50c42ba"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7418dfec13aa9c1f24e68768d50c42ba">chartViewVisible</a></td></tr>
<tr class="separator:a7418dfec13aa9c1f24e68768d50c42ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0300fa4b2f076ca25c6dd944bd0f834a" id="r_a0300fa4b2f076ca25c6dd944bd0f834a"><td class="memItemLeft" align="right" valign="top">QString&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0300fa4b2f076ca25c6dd944bd0f834a">lastUpdate</a></td></tr>
<tr class="separator:a0300fa4b2f076ca25c6dd944bd0f834a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-slots" name="pri-slots"></a>
Private Slots</h2></td></tr>
<tr class="memitem:abc8e6de353c3a75fe139bf824fc5f372" id="r_abc8e6de353c3a75fe139bf824fc5f372"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abc8e6de353c3a75fe139bf824fc5f372">onNetworkReply</a> (QNetworkReply *reply)</td></tr>
<tr class="separator:abc8e6de353c3a75fe139bf824fc5f372"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a663751ecedffac4fca44207e6bf024aa" id="r_a663751ecedffac4fca44207e6bf024aa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a663751ecedffac4fca44207e6bf024aa">checkInternetConnection</a> ()</td></tr>
<tr class="separator:a663751ecedffac4fca44207e6bf024aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a641523a51791b8674e9909daabc1a0" id="r_a6a641523a51791b8674e9909daabc1a0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6a641523a51791b8674e9909daabc1a0">saveDataIfDue</a> ()</td></tr>
<tr class="separator:a6a641523a51791b8674e9909daabc1a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae38334aaad59aebcf315ed7f1f4efc42" id="r_ae38334aaad59aebcf315ed7f1f4efc42"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae38334aaad59aebcf315ed7f1f4efc42">onBackgroundSaveFinished</a> ()</td></tr>
<tr class="separator:ae38334aaad59aebcf315ed7f1f4efc42"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a4792f37f6120fd4506ae39c4bdae5cd0" id="r_a4792f37f6120fd4506ae39c4bdae5cd0"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4792f37f6120fd4506ae39c4bdae5cd0">isOnline</a> ()</td></tr>
<tr class="separator:a4792f37f6120fd4506ae39c4bdae5cd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e3b2ef723312e0d92eef9de94ec0eb2" id="r_a6e3b2ef723312e0d92eef9de94ec0eb2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6e3b2ef723312e0d92eef9de94ec0eb2">loadDataFromFile</a> ()</td></tr>
<tr class="separator:a6e3b2ef723312e0d92eef9de94ec0eb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab39f93de70521ddc9ec999ee9ad858a8" id="r_ab39f93de70521ddc9ec999ee9ad858a8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab39f93de70521ddc9ec999ee9ad858a8">checkInternetConnectionInitial</a> ()</td></tr>
<tr class="separator:ab39f93de70521ddc9ec999ee9ad858a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04bb3d38411c1358b61c5fbe0ff80ead" id="r_a04bb3d38411c1358b61c5fbe0ff80ead"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a04bb3d38411c1358b61c5fbe0ff80ead">debugJsonFile</a> ()</td></tr>
<tr class="separator:a04bb3d38411c1358b61c5fbe0ff80ead"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8f3d842ed4ec6d050f7bd42ac94cb69" id="r_ac8f3d842ed4ec6d050f7bd42ac94cb69"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac8f3d842ed4ec6d050f7bd42ac94cb69">handleStationsReply</a> (const QJsonDocument &amp;doc)</td></tr>
<tr class="separator:ac8f3d842ed4ec6d050f7bd42ac94cb69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5538713341b186b45b3c88e395dadac5" id="r_a5538713341b186b45b3c88e395dadac5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5538713341b186b45b3c88e395dadac5">handleSensorsReply</a> (const QJsonDocument &amp;doc)</td></tr>
<tr class="separator:a5538713341b186b45b3c88e395dadac5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0891b976eab162ecf05a74449bbc4de4" id="r_a0891b976eab162ecf05a74449bbc4de4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0891b976eab162ecf05a74449bbc4de4">handleAirQualityIndexReply</a> (const QJsonDocument &amp;doc)</td></tr>
<tr class="separator:a0891b976eab162ecf05a74449bbc4de4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a456e3569512c243fda339b3da6052d65" id="r_a456e3569512c243fda339b3da6052d65"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a456e3569512c243fda339b3da6052d65">handleSensorDataReply</a> (const QJsonDocument &amp;doc, int sensorId)</td></tr>
<tr class="separator:a456e3569512c243fda339b3da6052d65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a095ddb4b7e08e542f1a148ac5e5ce111" id="r_a095ddb4b7e08e542f1a148ac5e5ce111"><td class="memItemLeft" align="right" valign="top">QVariantList&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a095ddb4b7e08e542f1a148ac5e5ce111">stations</a> () const</td></tr>
<tr class="separator:a095ddb4b7e08e542f1a148ac5e5ce111"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2af76fc67e7a019ff4a15e1760b87c2c" id="r_a2af76fc67e7a019ff4a15e1760b87c2c"><td class="memItemLeft" align="right" valign="top">QVariantList&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2af76fc67e7a019ff4a15e1760b87c2c">sensors</a> () const</td></tr>
<tr class="separator:a2af76fc67e7a019ff4a15e1760b87c2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abdead1f1e924ceca124bc9500c7d206c" id="r_abdead1f1e924ceca124bc9500c7d206c"><td class="memItemLeft" align="right" valign="top">QVariantList&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abdead1f1e924ceca124bc9500c7d206c">sensorMeasurements</a> () const</td></tr>
<tr class="separator:abdead1f1e924ceca124bc9500c7d206c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9aaedd90463352cf8140d1fd62d06420" id="r_a9aaedd90463352cf8140d1fd62d06420"><td class="memItemLeft" align="right" valign="top">QVariantMap&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9aaedd90463352cf8140d1fd62d06420">selectedStation</a> () const</td></tr>
<tr class="separator:a9aaedd90463352cf8140d1fd62d06420"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8424c47f3fbefe437975edb8cd31782c" id="r_a8424c47f3fbefe437975edb8cd31782c"><td class="memItemLeft" align="right" valign="top">QVariantMap&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8424c47f3fbefe437975edb8cd31782c">selectedSensor</a> () const</td></tr>
<tr class="separator:a8424c47f3fbefe437975edb8cd31782c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3975b84087d3091e7e1cb05729cbe3c9" id="r_a3975b84087d3091e7e1cb05729cbe3c9"><td class="memItemLeft" align="right" valign="top">QVariantMap&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3975b84087d3091e7e1cb05729cbe3c9">airQualityIndex</a> () const</td></tr>
<tr class="separator:a3975b84087d3091e7e1cb05729cbe3c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa88f4d6f7467cbbc3fe3930697ada25f" id="r_aa88f4d6f7467cbbc3fe3930697ada25f"><td class="memItemLeft" align="right" valign="top">QString&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa88f4d6f7467cbbc3fe3930697ada25f">status</a> () const</td></tr>
<tr class="separator:aa88f4d6f7467cbbc3fe3930697ada25f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3efba5c09dcecf797b317b4de1d5da93" id="r_a3efba5c09dcecf797b317b4de1d5da93"><td class="memItemLeft" align="right" valign="top">QString&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3efba5c09dcecf797b317b4de1d5da93">lastUpdate</a> () const</td></tr>
<tr class="separator:a3efba5c09dcecf797b317b4de1d5da93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99a9446d77bd124b81bbfc1e29ba0282" id="r_a99a9446d77bd124b81bbfc1e29ba0282"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a99a9446d77bd124b81bbfc1e29ba0282">sensorViewVisible</a> () const</td></tr>
<tr class="separator:a99a9446d77bd124b81bbfc1e29ba0282"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2c6d256a1e7260acd4fcc9fab9f3cab" id="r_ac2c6d256a1e7260acd4fcc9fab9f3cab"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac2c6d256a1e7260acd4fcc9fab9f3cab">chartViewVisible</a> () const</td></tr>
<tr class="separator:ac2c6d256a1e7260acd4fcc9fab9f3cab"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a7cc5248d2dc440404469679d749ddbe7" id="r_a7cc5248d2dc440404469679d749ddbe7"><td class="memItemLeft" align="right" valign="top">QNetworkAccessManager *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7cc5248d2dc440404469679d749ddbe7">m_networkManager</a></td></tr>
<tr class="separator:a7cc5248d2dc440404469679d749ddbe7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba97641386a9fdee9de45a54da8f502b" id="r_aba97641386a9fdee9de45a54da8f502b"><td class="memItemLeft" align="right" valign="top">QTimer *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aba97641386a9fdee9de45a54da8f502b">hourlySaveTimer</a></td></tr>
<tr class="separator:aba97641386a9fdee9de45a54da8f502b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae35db65fe2426514abda944ec891ed3d" id="r_ae35db65fe2426514abda944ec891ed3d"><td class="memItemLeft" align="right" valign="top">QTimer *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae35db65fe2426514abda944ec891ed3d">internetCheckTimer</a></td></tr>
<tr class="separator:ae35db65fe2426514abda944ec891ed3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5328eb2844190cc939f27c78aa8f6f9" id="r_ab5328eb2844190cc939f27c78aa8f6f9"><td class="memItemLeft" align="right" valign="top">QVariantList&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab5328eb2844190cc939f27c78aa8f6f9">m_allStations</a></td></tr>
<tr class="separator:ab5328eb2844190cc939f27c78aa8f6f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3dfc1fa389fd999243084db2f6284eb5" id="r_a3dfc1fa389fd999243084db2f6284eb5"><td class="memItemLeft" align="right" valign="top">QVariantList&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3dfc1fa389fd999243084db2f6284eb5">m_filteredStations</a></td></tr>
<tr class="separator:a3dfc1fa389fd999243084db2f6284eb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92bf654c17191fc98ea2531558cf877d" id="r_a92bf654c17191fc98ea2531558cf877d"><td class="memItemLeft" align="right" valign="top">QVariantList&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a92bf654c17191fc98ea2531558cf877d">m_sensors</a></td></tr>
<tr class="separator:a92bf654c17191fc98ea2531558cf877d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57118789654284026f99a38f9748efa1" id="r_a57118789654284026f99a38f9748efa1"><td class="memItemLeft" align="right" valign="top">QVariantList&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a57118789654284026f99a38f9748efa1">m_sensorMeasurements</a></td></tr>
<tr class="separator:a57118789654284026f99a38f9748efa1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ab136ba16cc1dfddea1f5f4e97ca4b0" id="r_a0ab136ba16cc1dfddea1f5f4e97ca4b0"><td class="memItemLeft" align="right" valign="top">QVariantMap&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0ab136ba16cc1dfddea1f5f4e97ca4b0">m_selectedStation</a></td></tr>
<tr class="separator:a0ab136ba16cc1dfddea1f5f4e97ca4b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a597211ebd3205c040e239b20b4ac6a1b" id="r_a597211ebd3205c040e239b20b4ac6a1b"><td class="memItemLeft" align="right" valign="top">QVariantMap&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a597211ebd3205c040e239b20b4ac6a1b">m_selectedSensor</a></td></tr>
<tr class="separator:a597211ebd3205c040e239b20b4ac6a1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad104e1305d8d161bdf6985ef5dd48f5e" id="r_ad104e1305d8d161bdf6985ef5dd48f5e"><td class="memItemLeft" align="right" valign="top">QVariantMap&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad104e1305d8d161bdf6985ef5dd48f5e">m_airQualityIndex</a></td></tr>
<tr class="separator:ad104e1305d8d161bdf6985ef5dd48f5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a129aa70bf893c18f9a8e802732110906" id="r_a129aa70bf893c18f9a8e802732110906"><td class="memItemLeft" align="right" valign="top">QString&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a129aa70bf893c18f9a8e802732110906">m_status</a></td></tr>
<tr class="separator:a129aa70bf893c18f9a8e802732110906"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19c5ccae9a75cd75997a591bf753fe3f" id="r_a19c5ccae9a75cd75997a591bf753fe3f"><td class="memItemLeft" align="right" valign="top">QString&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a19c5ccae9a75cd75997a591bf753fe3f">m_lastUpdate</a></td></tr>
<tr class="separator:a19c5ccae9a75cd75997a591bf753fe3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa9840f4efbb607c7d95a8d7db2e71b1" id="r_aaa9840f4efbb607c7d95a8d7db2e71b1"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aaa9840f4efbb607c7d95a8d7db2e71b1">m_sensorViewVisible</a></td></tr>
<tr class="separator:aaa9840f4efbb607c7d95a8d7db2e71b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37444fda0cbae2fddae3d53ffb4c525d" id="r_a37444fda0cbae2fddae3d53ffb4c525d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a37444fda0cbae2fddae3d53ffb4c525d">m_chartViewVisible</a></td></tr>
<tr class="separator:a37444fda0cbae2fddae3d53ffb4c525d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa9323f1c05f963651440d5f36ef4c76" id="r_afa9323f1c05f963651440d5f36ef4c76"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afa9323f1c05f963651440d5f36ef4c76">m_isOnline</a></td></tr>
<tr class="separator:afa9323f1c05f963651440d5f36ef4c76"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="mainwindow_8h_source.html#l00011">11</a> of file <a class="el" href="mainwindow_8h_source.html">mainwindow.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ad26de6668fdf645d615bca9c70ae87ea" name="ad26de6668fdf645d615bca9c70ae87ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad26de6668fdf645d615bca9c70ae87ea">&#9670;&#160;</a></span>MainWindow()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">MainWindow::MainWindow </td>
          <td>(</td>
          <td class="paramtype">QObject *</td>          <td class="paramname"><span class="paramname"><em>parent</em></span><span class="paramdefsep"> = </span><span class="paramdefval">nullptr</span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel explicit">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mainwindow_8cpp_source.html#l00021">21</a> of file <a class="el" href="mainwindow_8cpp_source.html">mainwindow.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   22</span>    : QObject(parent),</div>
<div class="line"><span class="lineno">   23</span>    <a class="code hl_variable" href="#a7cc5248d2dc440404469679d749ddbe7">m_networkManager</a>(<span class="keyword">new</span> QNetworkAccessManager(<span class="keyword">this</span>)),</div>
<div class="line"><span class="lineno">   24</span>    <a class="code hl_variable" href="#aaa9840f4efbb607c7d95a8d7db2e71b1">m_sensorViewVisible</a>(<span class="keyword">false</span>),</div>
<div class="line"><span class="lineno">   25</span>    <a class="code hl_variable" href="#a37444fda0cbae2fddae3d53ffb4c525d">m_chartViewVisible</a>(<span class="keyword">false</span>),</div>
<div class="line"><span class="lineno">   26</span>    <a class="code hl_variable" href="#afa9323f1c05f963651440d5f36ef4c76">m_isOnline</a>(<span class="keyword">false</span>)</div>
<div class="line"><span class="lineno">   27</span>{</div>
<div class="line"><span class="lineno">   28</span>    <span class="comment">// Połącz sygnały i sloty</span></div>
<div class="line"><span class="lineno">   29</span>    connect(<a class="code hl_variable" href="#a7cc5248d2dc440404469679d749ddbe7">m_networkManager</a>, &amp;QNetworkAccessManager::finished, <span class="keyword">this</span>, &amp;<a class="code hl_slot" href="#abc8e6de353c3a75fe139bf824fc5f372">MainWindow::onNetworkReply</a>);</div>
<div class="line"><span class="lineno">   30</span> </div>
<div class="line"><span class="lineno">   31</span>    <span class="comment">// Stwórz katalog data jeśli nie istnieje</span></div>
<div class="line"><span class="lineno">   32</span>    QDir().mkpath(<span class="stringliteral">&quot;data&quot;</span>);</div>
<div class="line"><span class="lineno">   33</span> </div>
<div class="line"><span class="lineno">   34</span>    <span class="comment">// Inicjalizacja timera sprawdzania połączenia co 30 sekund</span></div>
<div class="line"><span class="lineno">   35</span>    <a class="code hl_variable" href="#ae35db65fe2426514abda944ec891ed3d">internetCheckTimer</a> = <span class="keyword">new</span> QTimer(<span class="keyword">this</span>);</div>
<div class="line"><span class="lineno">   36</span>    connect(<a class="code hl_variable" href="#ae35db65fe2426514abda944ec891ed3d">internetCheckTimer</a>, &amp;QTimer::timeout, <span class="keyword">this</span>, &amp;<a class="code hl_slot" href="#a663751ecedffac4fca44207e6bf024aa">MainWindow::checkInternetConnection</a>);</div>
<div class="line"><span class="lineno">   37</span>    <a class="code hl_variable" href="#ae35db65fe2426514abda944ec891ed3d">internetCheckTimer</a>-&gt;start(30000); <span class="comment">// 30 sekund</span></div>
<div class="line"><span class="lineno">   38</span> </div>
<div class="line"><span class="lineno">   39</span>    <span class="comment">// Inicjalizacja timera zapisu co godzinę</span></div>
<div class="line"><span class="lineno">   40</span>    <a class="code hl_variable" href="#aba97641386a9fdee9de45a54da8f502b">hourlySaveTimer</a> = <span class="keyword">new</span> QTimer(<span class="keyword">this</span>);</div>
<div class="line"><span class="lineno">   41</span>    connect(<a class="code hl_variable" href="#aba97641386a9fdee9de45a54da8f502b">hourlySaveTimer</a>, &amp;QTimer::timeout, <span class="keyword">this</span>, &amp;<a class="code hl_slot" href="#a6a641523a51791b8674e9909daabc1a0">MainWindow::saveDataIfDue</a>);</div>
<div class="line"><span class="lineno">   42</span>    <a class="code hl_variable" href="#aba97641386a9fdee9de45a54da8f502b">hourlySaveTimer</a>-&gt;start(3600000); <span class="comment">// 1 godzina</span></div>
<div class="line"><span class="lineno">   43</span> </div>
<div class="line"><span class="lineno">   44</span>    <span class="comment">// Sprawdź czy jest internet na start</span></div>
<div class="line"><span class="lineno">   45</span>    <a class="code hl_function" href="#ab39f93de70521ddc9ec999ee9ad858a8">checkInternetConnectionInitial</a>();</div>
<div class="line"><span class="lineno">   46</span>}</div>
<div class="ttc" id="aclass_main_window_html_a37444fda0cbae2fddae3d53ffb4c525d"><div class="ttname"><a href="#a37444fda0cbae2fddae3d53ffb4c525d">MainWindow::m_chartViewVisible</a></div><div class="ttdeci">bool m_chartViewVisible</div><div class="ttdef"><b>Definition</b> <a href="mainwindow_8h_source.html#l00077">mainwindow.h:77</a></div></div>
<div class="ttc" id="aclass_main_window_html_a663751ecedffac4fca44207e6bf024aa"><div class="ttname"><a href="#a663751ecedffac4fca44207e6bf024aa">MainWindow::checkInternetConnection</a></div><div class="ttdeci">void checkInternetConnection()</div><div class="ttdef"><b>Definition</b> <a href="mainwindow_8cpp_source.html#l00117">mainwindow.cpp:117</a></div></div>
<div class="ttc" id="aclass_main_window_html_a6a641523a51791b8674e9909daabc1a0"><div class="ttname"><a href="#a6a641523a51791b8674e9909daabc1a0">MainWindow::saveDataIfDue</a></div><div class="ttdeci">void saveDataIfDue()</div><div class="ttdef"><b>Definition</b> <a href="mainwindow_8cpp_source.html#l00470">mainwindow.cpp:470</a></div></div>
<div class="ttc" id="aclass_main_window_html_a7cc5248d2dc440404469679d749ddbe7"><div class="ttname"><a href="#a7cc5248d2dc440404469679d749ddbe7">MainWindow::m_networkManager</a></div><div class="ttdeci">QNetworkAccessManager * m_networkManager</div><div class="ttdef"><b>Definition</b> <a href="mainwindow_8h_source.html#l00062">mainwindow.h:62</a></div></div>
<div class="ttc" id="aclass_main_window_html_aaa9840f4efbb607c7d95a8d7db2e71b1"><div class="ttname"><a href="#aaa9840f4efbb607c7d95a8d7db2e71b1">MainWindow::m_sensorViewVisible</a></div><div class="ttdeci">bool m_sensorViewVisible</div><div class="ttdef"><b>Definition</b> <a href="mainwindow_8h_source.html#l00076">mainwindow.h:76</a></div></div>
<div class="ttc" id="aclass_main_window_html_ab39f93de70521ddc9ec999ee9ad858a8"><div class="ttname"><a href="#ab39f93de70521ddc9ec999ee9ad858a8">MainWindow::checkInternetConnectionInitial</a></div><div class="ttdeci">void checkInternetConnectionInitial()</div><div class="ttdef"><b>Definition</b> <a href="mainwindow_8cpp_source.html#l00096">mainwindow.cpp:96</a></div></div>
<div class="ttc" id="aclass_main_window_html_aba97641386a9fdee9de45a54da8f502b"><div class="ttname"><a href="#aba97641386a9fdee9de45a54da8f502b">MainWindow::hourlySaveTimer</a></div><div class="ttdeci">QTimer * hourlySaveTimer</div><div class="ttdef"><b>Definition</b> <a href="mainwindow_8h_source.html#l00063">mainwindow.h:63</a></div></div>
<div class="ttc" id="aclass_main_window_html_abc8e6de353c3a75fe139bf824fc5f372"><div class="ttname"><a href="#abc8e6de353c3a75fe139bf824fc5f372">MainWindow::onNetworkReply</a></div><div class="ttdeci">void onNetworkReply(QNetworkReply *reply)</div><div class="ttdef"><b>Definition</b> <a href="mainwindow_8cpp_source.html#l00508">mainwindow.cpp:508</a></div></div>
<div class="ttc" id="aclass_main_window_html_ae35db65fe2426514abda944ec891ed3d"><div class="ttname"><a href="#ae35db65fe2426514abda944ec891ed3d">MainWindow::internetCheckTimer</a></div><div class="ttdeci">QTimer * internetCheckTimer</div><div class="ttdef"><b>Definition</b> <a href="mainwindow_8h_source.html#l00064">mainwindow.h:64</a></div></div>
<div class="ttc" id="aclass_main_window_html_afa9323f1c05f963651440d5f36ef4c76"><div class="ttname"><a href="#afa9323f1c05f963651440d5f36ef4c76">MainWindow::m_isOnline</a></div><div class="ttdeci">bool m_isOnline</div><div class="ttdef"><b>Definition</b> <a href="mainwindow_8h_source.html#l00078">mainwindow.h:78</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae98d00a93bc118200eeef9f9bba1dba7" name="ae98d00a93bc118200eeef9f9bba1dba7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae98d00a93bc118200eeef9f9bba1dba7">&#9670;&#160;</a></span>~MainWindow()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MainWindow::~MainWindow </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mainwindow_8cpp_source.html#l00048">48</a> of file <a class="el" href="mainwindow_8cpp_source.html">mainwindow.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   48</span>                        {</div>
<div class="line"><span class="lineno">   49</span>    <span class="keyword">delete</span> <a class="code hl_variable" href="#a7cc5248d2dc440404469679d749ddbe7">m_networkManager</a>;</div>
<div class="line"><span class="lineno">   50</span>    <span class="keyword">delete</span> <a class="code hl_variable" href="#aba97641386a9fdee9de45a54da8f502b">hourlySaveTimer</a>;</div>
<div class="line"><span class="lineno">   51</span>    <span class="keyword">delete</span> <a class="code hl_variable" href="#ae35db65fe2426514abda944ec891ed3d">internetCheckTimer</a>;</div>
<div class="line"><span class="lineno">   52</span>}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a3975b84087d3091e7e1cb05729cbe3c9" name="a3975b84087d3091e7e1cb05729cbe3c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3975b84087d3091e7e1cb05729cbe3c9">&#9670;&#160;</a></span>airQualityIndex()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QVariantMap MainWindow::airQualityIndex </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mainwindow_8h_source.html#l00098">98</a> of file <a class="el" href="mainwindow_8h_source.html">mainwindow.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   98</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="#ad104e1305d8d161bdf6985ef5dd48f5e">m_airQualityIndex</a>; }</div>
<div class="ttc" id="aclass_main_window_html_ad104e1305d8d161bdf6985ef5dd48f5e"><div class="ttname"><a href="#ad104e1305d8d161bdf6985ef5dd48f5e">MainWindow::m_airQualityIndex</a></div><div class="ttdeci">QVariantMap m_airQualityIndex</div><div class="ttdef"><b>Definition</b> <a href="mainwindow_8h_source.html#l00072">mainwindow.h:72</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac4d719c188dc1a3f595bef2c75c13e9a" name="ac4d719c188dc1a3f595bef2c75c13e9a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4d719c188dc1a3f595bef2c75c13e9a">&#9670;&#160;</a></span>airQualityIndexChanged</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MainWindow::airQualityIndexChanged </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel signal">signal</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ac2c6d256a1e7260acd4fcc9fab9f3cab" name="ac2c6d256a1e7260acd4fcc9fab9f3cab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac2c6d256a1e7260acd4fcc9fab9f3cab">&#9670;&#160;</a></span>chartViewVisible()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool MainWindow::chartViewVisible </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mainwindow_8h_source.html#l00102">102</a> of file <a class="el" href="mainwindow_8h_source.html">mainwindow.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  102</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="#a37444fda0cbae2fddae3d53ffb4c525d">m_chartViewVisible</a>; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a2f31d14cf5c4d7d140d95ca3b1221913" name="a2f31d14cf5c4d7d140d95ca3b1221913"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f31d14cf5c4d7d140d95ca3b1221913">&#9670;&#160;</a></span>chartViewVisibleChanged</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MainWindow::chartViewVisibleChanged </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel signal">signal</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a663751ecedffac4fca44207e6bf024aa" name="a663751ecedffac4fca44207e6bf024aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a663751ecedffac4fca44207e6bf024aa">&#9670;&#160;</a></span>checkInternetConnection</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MainWindow::checkInternetConnection </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span><span class="mlabel slot">slot</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mainwindow_8cpp_source.html#l00117">117</a> of file <a class="el" href="mainwindow_8cpp_source.html">mainwindow.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  117</span>                                         {</div>
<div class="line"><span class="lineno">  118</span>    <span class="keywordtype">bool</span> currentOnlineStatus = <a class="code hl_function" href="#a4792f37f6120fd4506ae39c4bdae5cd0">isOnline</a>();</div>
<div class="line"><span class="lineno">  119</span> </div>
<div class="line"><span class="lineno">  120</span>    <span class="comment">// Jeśli status połączenia się zmienił</span></div>
<div class="line"><span class="lineno">  121</span>    <span class="keywordflow">if</span> (currentOnlineStatus != <a class="code hl_variable" href="#afa9323f1c05f963651440d5f36ef4c76">m_isOnline</a>) {</div>
<div class="line"><span class="lineno">  122</span>        <a class="code hl_variable" href="#afa9323f1c05f963651440d5f36ef4c76">m_isOnline</a> = currentOnlineStatus;</div>
<div class="line"><span class="lineno">  123</span> </div>
<div class="line"><span class="lineno">  124</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="#afa9323f1c05f963651440d5f36ef4c76">m_isOnline</a>) {</div>
<div class="line"><span class="lineno">  125</span>            <span class="comment">// Przejście z offline do online</span></div>
<div class="line"><span class="lineno">  126</span>            <a class="code hl_variable" href="#a129aa70bf893c18f9a8e802732110906">m_status</a> = <span class="stringliteral">&quot;🔗 Połączono z siecią – odświeżanie danych...&quot;</span>;</div>
<div class="line"><span class="lineno">  127</span>            emit <a class="code hl_signal" href="#af63d0bdd203b1b2d04bb90c96493f617">statusChanged</a>();</div>
<div class="line"><span class="lineno">  128</span> </div>
<div class="line"><span class="lineno">  129</span>            <span class="comment">// Załaduj dane z API w zależności od aktualnego widoku</span></div>
<div class="line"><span class="lineno">  130</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="#a37444fda0cbae2fddae3d53ffb4c525d">m_chartViewVisible</a> &amp;&amp; !<a class="code hl_variable" href="#a597211ebd3205c040e239b20b4ac6a1b">m_selectedSensor</a>.isEmpty()) {</div>
<div class="line"><span class="lineno">  131</span>                <span class="comment">// Jesteśmy w widoku wykresu, odśwież dane czujnika</span></div>
<div class="line"><span class="lineno">  132</span>                <span class="keywordtype">int</span> sensorId = <a class="code hl_variable" href="#a597211ebd3205c040e239b20b4ac6a1b">m_selectedSensor</a>[<span class="stringliteral">&quot;id&quot;</span>].toInt();</div>
<div class="line"><span class="lineno">  133</span>                <a class="code hl_variable" href="#a7cc5248d2dc440404469679d749ddbe7">m_networkManager</a>-&gt;get(QNetworkRequest(QUrl(<span class="stringliteral">&quot;https://api.gios.gov.pl/pjp-api/rest/data/getData/&quot;</span> + QString::number(sensorId))));</div>
<div class="line"><span class="lineno">  134</span>            }</div>
<div class="line"><span class="lineno">  135</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="#aaa9840f4efbb607c7d95a8d7db2e71b1">m_sensorViewVisible</a> &amp;&amp; !<a class="code hl_variable" href="#a0ab136ba16cc1dfddea1f5f4e97ca4b0">m_selectedStation</a>.isEmpty()) {</div>
<div class="line"><span class="lineno">  136</span>                <span class="comment">// Jesteśmy w widoku czujników, odśwież dane stacji</span></div>
<div class="line"><span class="lineno">  137</span>                <span class="keywordtype">int</span> stationId = <a class="code hl_variable" href="#a0ab136ba16cc1dfddea1f5f4e97ca4b0">m_selectedStation</a>[<span class="stringliteral">&quot;stationId&quot;</span>].toInt();</div>
<div class="line"><span class="lineno">  138</span>                <a class="code hl_variable" href="#a7cc5248d2dc440404469679d749ddbe7">m_networkManager</a>-&gt;get(QNetworkRequest(QUrl(<span class="stringliteral">&quot;https://api.gios.gov.pl/pjp-api/rest/station/sensors/&quot;</span> + QString::number(stationId))));</div>
<div class="line"><span class="lineno">  139</span>                <a class="code hl_variable" href="#a7cc5248d2dc440404469679d749ddbe7">m_networkManager</a>-&gt;get(QNetworkRequest(QUrl(<span class="stringliteral">&quot;https://api.gios.gov.pl/pjp-api/rest/aqindex/getIndex/&quot;</span> + QString::number(stationId))));</div>
<div class="line"><span class="lineno">  140</span>            }</div>
<div class="line"><span class="lineno">  141</span>            <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  142</span>                <span class="comment">// Jesteśmy w widoku stacji, odśwież listę stacji</span></div>
<div class="line"><span class="lineno">  143</span>                <a class="code hl_function" href="#abd4e34cbb1e845a35c9d09ef4c390ffc">fetchStations</a>();</div>
<div class="line"><span class="lineno">  144</span>            }</div>
<div class="line"><span class="lineno">  145</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  146</span>            <span class="comment">// Przejście z online do offline</span></div>
<div class="line"><span class="lineno">  147</span>            <a class="code hl_variable" href="#a129aa70bf893c18f9a8e802732110906">m_status</a> = <span class="stringliteral">&quot;🔴 Utracono połączenie – tryb offline&quot;</span>;</div>
<div class="line"><span class="lineno">  148</span>            emit <a class="code hl_signal" href="#af63d0bdd203b1b2d04bb90c96493f617">statusChanged</a>();</div>
<div class="line"><span class="lineno">  149</span> </div>
<div class="line"><span class="lineno">  150</span>            <span class="comment">// Wczytaj dane z pliku lokalnego</span></div>
<div class="line"><span class="lineno">  151</span>            <a class="code hl_function" href="#a6e3b2ef723312e0d92eef9de94ec0eb2">loadDataFromFile</a>();</div>
<div class="line"><span class="lineno">  152</span>        }</div>
<div class="line"><span class="lineno">  153</span>    }</div>
<div class="line"><span class="lineno">  154</span>}</div>
<div class="ttc" id="aclass_main_window_html_a0ab136ba16cc1dfddea1f5f4e97ca4b0"><div class="ttname"><a href="#a0ab136ba16cc1dfddea1f5f4e97ca4b0">MainWindow::m_selectedStation</a></div><div class="ttdeci">QVariantMap m_selectedStation</div><div class="ttdef"><b>Definition</b> <a href="mainwindow_8h_source.html#l00070">mainwindow.h:70</a></div></div>
<div class="ttc" id="aclass_main_window_html_a129aa70bf893c18f9a8e802732110906"><div class="ttname"><a href="#a129aa70bf893c18f9a8e802732110906">MainWindow::m_status</a></div><div class="ttdeci">QString m_status</div><div class="ttdef"><b>Definition</b> <a href="mainwindow_8h_source.html#l00074">mainwindow.h:74</a></div></div>
<div class="ttc" id="aclass_main_window_html_a4792f37f6120fd4506ae39c4bdae5cd0"><div class="ttname"><a href="#a4792f37f6120fd4506ae39c4bdae5cd0">MainWindow::isOnline</a></div><div class="ttdeci">bool isOnline()</div><div class="ttdef"><b>Definition</b> <a href="mainwindow_8cpp_source.html#l00054">mainwindow.cpp:54</a></div></div>
<div class="ttc" id="aclass_main_window_html_a597211ebd3205c040e239b20b4ac6a1b"><div class="ttname"><a href="#a597211ebd3205c040e239b20b4ac6a1b">MainWindow::m_selectedSensor</a></div><div class="ttdeci">QVariantMap m_selectedSensor</div><div class="ttdef"><b>Definition</b> <a href="mainwindow_8h_source.html#l00071">mainwindow.h:71</a></div></div>
<div class="ttc" id="aclass_main_window_html_a6e3b2ef723312e0d92eef9de94ec0eb2"><div class="ttname"><a href="#a6e3b2ef723312e0d92eef9de94ec0eb2">MainWindow::loadDataFromFile</a></div><div class="ttdeci">void loadDataFromFile()</div><div class="ttdef"><b>Definition</b> <a href="mainwindow_8cpp_source.html#l00156">mainwindow.cpp:156</a></div></div>
<div class="ttc" id="aclass_main_window_html_abd4e34cbb1e845a35c9d09ef4c390ffc"><div class="ttname"><a href="#abd4e34cbb1e845a35c9d09ef4c390ffc">MainWindow::fetchStations</a></div><div class="ttdeci">Q_INVOKABLE void fetchStations()</div><div class="ttdef"><b>Definition</b> <a href="mainwindow_8cpp_source.html#l00227">mainwindow.cpp:227</a></div></div>
<div class="ttc" id="aclass_main_window_html_af63d0bdd203b1b2d04bb90c96493f617"><div class="ttname"><a href="#af63d0bdd203b1b2d04bb90c96493f617">MainWindow::statusChanged</a></div><div class="ttdeci">void statusChanged()</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab39f93de70521ddc9ec999ee9ad858a8" name="ab39f93de70521ddc9ec999ee9ad858a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab39f93de70521ddc9ec999ee9ad858a8">&#9670;&#160;</a></span>checkInternetConnectionInitial()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MainWindow::checkInternetConnectionInitial </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mainwindow_8cpp_source.html#l00096">96</a> of file <a class="el" href="mainwindow_8cpp_source.html">mainwindow.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   96</span>                                                {</div>
<div class="line"><span class="lineno">   97</span>    <a class="code hl_variable" href="#a129aa70bf893c18f9a8e802732110906">m_status</a> = <span class="stringliteral">&quot;⏳ Sprawdzanie połączenia...&quot;</span>;</div>
<div class="line"><span class="lineno">   98</span>    emit <a class="code hl_signal" href="#af63d0bdd203b1b2d04bb90c96493f617">statusChanged</a>();</div>
<div class="line"><span class="lineno">   99</span> </div>
<div class="line"><span class="lineno">  100</span>    <span class="comment">// Sprawdź czy jest internet</span></div>
<div class="line"><span class="lineno">  101</span>    <a class="code hl_variable" href="#afa9323f1c05f963651440d5f36ef4c76">m_isOnline</a> = <a class="code hl_function" href="#a4792f37f6120fd4506ae39c4bdae5cd0">isOnline</a>();</div>
<div class="line"><span class="lineno">  102</span> </div>
<div class="line"><span class="lineno">  103</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="#afa9323f1c05f963651440d5f36ef4c76">m_isOnline</a>) {</div>
<div class="line"><span class="lineno">  104</span>        <a class="code hl_variable" href="#a129aa70bf893c18f9a8e802732110906">m_status</a> = <span class="stringliteral">&quot;🔗 Połączono z siecią – pobieranie danych...&quot;</span>;</div>
<div class="line"><span class="lineno">  105</span>        emit <a class="code hl_signal" href="#af63d0bdd203b1b2d04bb90c96493f617">statusChanged</a>();</div>
<div class="line"><span class="lineno">  106</span> </div>
<div class="line"><span class="lineno">  107</span>        <span class="comment">// Użyj podstawowej metody pobrania stacji</span></div>
<div class="line"><span class="lineno">  108</span> </div>
<div class="line"><span class="lineno">  109</span>        <a class="code hl_function" href="#aa806087b55ef11ef8d30ae0b376d00ee">saveTestDataForAllStations</a>();</div>
<div class="line"><span class="lineno">  110</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  111</span>        <a class="code hl_variable" href="#a129aa70bf893c18f9a8e802732110906">m_status</a> = <span class="stringliteral">&quot;❌ Brak internetu – dane z pamięci lokalnej&quot;</span>;</div>
<div class="line"><span class="lineno">  112</span>        emit <a class="code hl_signal" href="#af63d0bdd203b1b2d04bb90c96493f617">statusChanged</a>();</div>
<div class="line"><span class="lineno">  113</span>        <a class="code hl_function" href="#a6e3b2ef723312e0d92eef9de94ec0eb2">loadDataFromFile</a>();</div>
<div class="line"><span class="lineno">  114</span>    }</div>
<div class="line"><span class="lineno">  115</span>}</div>
<div class="ttc" id="aclass_main_window_html_aa806087b55ef11ef8d30ae0b376d00ee"><div class="ttname"><a href="#aa806087b55ef11ef8d30ae0b376d00ee">MainWindow::saveTestDataForAllStations</a></div><div class="ttdeci">Q_INVOKABLE void saveTestDataForAllStations()</div><div class="ttdef"><b>Definition</b> <a href="mainwindow_8cpp_source.html#l00865">mainwindow.cpp:865</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a04bb3d38411c1358b61c5fbe0ff80ead" name="a04bb3d38411c1358b61c5fbe0ff80ead"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04bb3d38411c1358b61c5fbe0ff80ead">&#9670;&#160;</a></span>debugJsonFile()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MainWindow::debugJsonFile </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mainwindow_8cpp_source.html#l00899">899</a> of file <a class="el" href="mainwindow_8cpp_source.html">mainwindow.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  899</span>                               {</div>
<div class="line"><span class="lineno">  900</span>    QFile file(<span class="stringliteral">&quot;data/data.json&quot;</span>);</div>
<div class="line"><span class="lineno">  901</span> </div>
<div class="line"><span class="lineno">  902</span>    <span class="keywordflow">if</span> (!file.exists()) {</div>
<div class="line"><span class="lineno">  903</span>        qDebug() &lt;&lt; <span class="stringliteral">&quot;⚠️ DIAGNOZA: Plik data.json nie istnieje!&quot;</span>;</div>
<div class="line"><span class="lineno">  904</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  905</span>    }</div>
<div class="line"><span class="lineno">  906</span> </div>
<div class="line"><span class="lineno">  907</span>    <span class="keywordflow">if</span> (!file.open(QIODevice::ReadOnly)) {</div>
<div class="line"><span class="lineno">  908</span>        qDebug() &lt;&lt; <span class="stringliteral">&quot;⚠️ DIAGNOZA: Nie można otworzyć pliku data.json:&quot;</span> &lt;&lt; file.errorString();</div>
<div class="line"><span class="lineno">  909</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  910</span>    }</div>
<div class="line"><span class="lineno">  911</span> </div>
<div class="line"><span class="lineno">  912</span>    QByteArray data = file.readAll();</div>
<div class="line"><span class="lineno">  913</span>    file.close();</div>
<div class="line"><span class="lineno">  914</span> </div>
<div class="line"><span class="lineno">  915</span>    <span class="keywordflow">if</span> (data.isEmpty()) {</div>
<div class="line"><span class="lineno">  916</span>        qDebug() &lt;&lt; <span class="stringliteral">&quot;⚠️ DIAGNOZA: Plik data.json jest pusty!&quot;</span>;</div>
<div class="line"><span class="lineno">  917</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  918</span>    }</div>
<div class="line"><span class="lineno">  919</span> </div>
<div class="line"><span class="lineno">  920</span>    QJsonParseError error;</div>
<div class="line"><span class="lineno">  921</span>    QJsonDocument doc = QJsonDocument::fromJson(data, &amp;error);</div>
<div class="line"><span class="lineno">  922</span> </div>
<div class="line"><span class="lineno">  923</span>    <span class="keywordflow">if</span> (error.error != QJsonParseError::NoError) {</div>
<div class="line"><span class="lineno">  924</span>        qDebug() &lt;&lt; <span class="stringliteral">&quot;⚠️ DIAGNOZA: Błąd parsowania JSON:&quot;</span> &lt;&lt; error.errorString();</div>
<div class="line"><span class="lineno">  925</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  926</span>    }</div>
<div class="line"><span class="lineno">  927</span> </div>
<div class="line"><span class="lineno">  928</span>    QVariantMap contentMap = doc.toVariant().toMap();</div>
<div class="line"><span class="lineno">  929</span>    qDebug() &lt;&lt; <span class="stringliteral">&quot;DIAGNOZA: Klucze główne w pliku:&quot;</span> &lt;&lt; contentMap.keys();</div>
<div class="line"><span class="lineno">  930</span> </div>
<div class="line"><span class="lineno">  931</span>    <span class="keywordflow">if</span> (contentMap.contains(<span class="stringliteral">&quot;stations&quot;</span>)) {</div>
<div class="line"><span class="lineno">  932</span>        QVariantList <a class="code hl_property" href="#a3b94a120f9ce9d4f2786d96837917be4">stations</a> = contentMap[<span class="stringliteral">&quot;stations&quot;</span>].toList();</div>
<div class="line"><span class="lineno">  933</span>        qDebug() &lt;&lt; <span class="stringliteral">&quot;DIAGNOZA: Liczba stacji:&quot;</span> &lt;&lt; <a class="code hl_property" href="#a3b94a120f9ce9d4f2786d96837917be4">stations</a>.size();</div>
<div class="line"><span class="lineno">  934</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  935</span>        qDebug() &lt;&lt; <span class="stringliteral">&quot;⚠️ DIAGNOZA: Brak klucza &#39;stations&#39; w pliku!&quot;</span>;</div>
<div class="line"><span class="lineno">  936</span>    }</div>
<div class="line"><span class="lineno">  937</span> </div>
<div class="line"><span class="lineno">  938</span>    <span class="keywordflow">if</span> (contentMap.contains(<span class="stringliteral">&quot;sensors&quot;</span>)) {</div>
<div class="line"><span class="lineno">  939</span>        QVariantMap sensorsMap = contentMap[<span class="stringliteral">&quot;sensors&quot;</span>].toMap();</div>
<div class="line"><span class="lineno">  940</span>        qDebug() &lt;&lt; <span class="stringliteral">&quot;DIAGNOZA: Klucze stacji w &#39;sensors&#39;:&quot;</span> &lt;&lt; sensorsMap.keys();</div>
<div class="line"><span class="lineno">  941</span> </div>
<div class="line"><span class="lineno">  942</span>        <span class="comment">// Sprawdź zawartość dla pierwszej stacji</span></div>
<div class="line"><span class="lineno">  943</span>        <span class="keywordflow">if</span> (!sensorsMap.isEmpty()) {</div>
<div class="line"><span class="lineno">  944</span>            QString firstStationId = sensorsMap.keys().first();</div>
<div class="line"><span class="lineno">  945</span>            QVariantList sensorsList = sensorsMap[firstStationId].toList();</div>
<div class="line"><span class="lineno">  946</span>            qDebug() &lt;&lt; <span class="stringliteral">&quot;DIAGNOZA: Stacja&quot;</span> &lt;&lt; firstStationId &lt;&lt; <span class="stringliteral">&quot;ma&quot;</span> &lt;&lt; sensorsList.size() &lt;&lt; <span class="stringliteral">&quot;czujników&quot;</span>;</div>
<div class="line"><span class="lineno">  947</span> </div>
<div class="line"><span class="lineno">  948</span>            <span class="keywordflow">if</span> (!sensorsList.isEmpty()) {</div>
<div class="line"><span class="lineno">  949</span>                QVariantMap firstSensor = sensorsList.first().toMap();</div>
<div class="line"><span class="lineno">  950</span>                qDebug() &lt;&lt; <span class="stringliteral">&quot;DIAGNOZA: Pierwszy czujnik zawiera klucze:&quot;</span> &lt;&lt; firstSensor.keys();</div>
<div class="line"><span class="lineno">  951</span>            }</div>
<div class="line"><span class="lineno">  952</span>        }</div>
<div class="line"><span class="lineno">  953</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  954</span>        qDebug() &lt;&lt; <span class="stringliteral">&quot;⚠️ DIAGNOZA: Brak klucza &#39;sensors&#39; w pliku!&quot;</span>;</div>
<div class="line"><span class="lineno">  955</span>    }</div>
<div class="line"><span class="lineno">  956</span> </div>
<div class="line"><span class="lineno">  957</span>    <span class="keywordflow">if</span> (contentMap.contains(<span class="stringliteral">&quot;indices&quot;</span>)) {</div>
<div class="line"><span class="lineno">  958</span>        QVariantMap indicesMap = contentMap[<span class="stringliteral">&quot;indices&quot;</span>].toMap();</div>
<div class="line"><span class="lineno">  959</span>        qDebug() &lt;&lt; <span class="stringliteral">&quot;DIAGNOZA: Klucze stacji w &#39;indices&#39;:&quot;</span> &lt;&lt; indicesMap.keys();</div>
<div class="line"><span class="lineno">  960</span> </div>
<div class="line"><span class="lineno">  961</span>        <span class="comment">// Sprawdź zawartość dla pierwszej stacji</span></div>
<div class="line"><span class="lineno">  962</span>        <span class="keywordflow">if</span> (!indicesMap.isEmpty()) {</div>
<div class="line"><span class="lineno">  963</span>            QString firstStationId = indicesMap.keys().first();</div>
<div class="line"><span class="lineno">  964</span>            QVariantMap indexData = indicesMap[firstStationId].toMap();</div>
<div class="line"><span class="lineno">  965</span>            qDebug() &lt;&lt; <span class="stringliteral">&quot;DIAGNOZA: Indeks dla stacji&quot;</span> &lt;&lt; firstStationId &lt;&lt; <span class="stringliteral">&quot;zawiera klucze:&quot;</span> &lt;&lt; indexData.keys();</div>
<div class="line"><span class="lineno">  966</span>        }</div>
<div class="line"><span class="lineno">  967</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  968</span>        qDebug() &lt;&lt; <span class="stringliteral">&quot;⚠️ DIAGNOZA: Brak klucza &#39;indices&#39; w pliku!&quot;</span>;</div>
<div class="line"><span class="lineno">  969</span>    }</div>
<div class="line"><span class="lineno">  970</span>}</div>
<div class="ttc" id="aclass_main_window_html_a3b94a120f9ce9d4f2786d96837917be4"><div class="ttname"><a href="#a3b94a120f9ce9d4f2786d96837917be4">MainWindow::stations</a></div><div class="ttdeci">QVariantList stations</div><div class="ttdef"><b>Definition</b> <a href="mainwindow_8h_source.html#l00032">mainwindow.h:32</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a837ddfe5aeaffc3064f27d40da64c8fe" name="a837ddfe5aeaffc3064f27d40da64c8fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a837ddfe5aeaffc3064f27d40da64c8fe">&#9670;&#160;</a></span>fetchSensors()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MainWindow::fetchSensors </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>stationId</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mainwindow_8cpp_source.html#l00239">239</a> of file <a class="el" href="mainwindow_8cpp_source.html">mainwindow.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  239</span>                                           {</div>
<div class="line"><span class="lineno">  240</span>    QString stationIdStr = QString::number(stationId);</div>
<div class="line"><span class="lineno">  241</span>    qDebug() &lt;&lt; <span class="stringliteral">&quot;-------------------------------------------------------------------------&quot;</span>;</div>
<div class="line"><span class="lineno">  242</span>    qDebug() &lt;&lt; <span class="stringliteral">&quot;Pobieranie czujników dla stacji ID:&quot;</span> &lt;&lt; stationIdStr;</div>
<div class="line"><span class="lineno">  243</span> </div>
<div class="line"><span class="lineno">  244</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="#afa9323f1c05f963651440d5f36ef4c76">m_isOnline</a>) {</div>
<div class="line"><span class="lineno">  245</span>        <a class="code hl_variable" href="#a129aa70bf893c18f9a8e802732110906">m_status</a> = <span class="stringliteral">&quot;⏳ Pobieranie czujników dla stacji...&quot;</span>;</div>
<div class="line"><span class="lineno">  246</span>        emit <a class="code hl_signal" href="#af63d0bdd203b1b2d04bb90c96493f617">statusChanged</a>();</div>
<div class="line"><span class="lineno">  247</span>        <a class="code hl_variable" href="#a7cc5248d2dc440404469679d749ddbe7">m_networkManager</a>-&gt;get(QNetworkRequest(QUrl(<span class="stringliteral">&quot;https://api.gios.gov.pl/pjp-api/rest/station/sensors/&quot;</span> + stationIdStr)));</div>
<div class="line"><span class="lineno">  248</span>        <a class="code hl_variable" href="#a7cc5248d2dc440404469679d749ddbe7">m_networkManager</a>-&gt;get(QNetworkRequest(QUrl(<span class="stringliteral">&quot;https://api.gios.gov.pl/pjp-api/rest/aqindex/getIndex/&quot;</span> + stationIdStr)));</div>
<div class="line"><span class="lineno">  249</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  250</span>        <a class="code hl_variable" href="#a129aa70bf893c18f9a8e802732110906">m_status</a> = <span class="stringliteral">&quot;📋 Lista czujników (offline)&quot;</span>;</div>
<div class="line"><span class="lineno">  251</span>        emit <a class="code hl_signal" href="#af63d0bdd203b1b2d04bb90c96493f617">statusChanged</a>();</div>
<div class="line"><span class="lineno">  252</span> </div>
<div class="line"><span class="lineno">  253</span>        <span class="comment">// Sprawdź i zdiagnozuj plik data.json</span></div>
<div class="line"><span class="lineno">  254</span>        <a class="code hl_function" href="#a04bb3d38411c1358b61c5fbe0ff80ead">debugJsonFile</a>();</div>
<div class="line"><span class="lineno">  255</span> </div>
<div class="line"><span class="lineno">  256</span>        <span class="comment">// Wczytaj dane z pliku JSON</span></div>
<div class="line"><span class="lineno">  257</span>        QFile file(<span class="stringliteral">&quot;data/data.json&quot;</span>);</div>
<div class="line"><span class="lineno">  258</span>        <span class="keywordflow">if</span> (!file.exists()) {</div>
<div class="line"><span class="lineno">  259</span>            qWarning() &lt;&lt; <span class="stringliteral">&quot;⚠️ Plik data.json nie istnieje!&quot;</span>;</div>
<div class="line"><span class="lineno">  260</span>            <a class="code hl_variable" href="#a129aa70bf893c18f9a8e802732110906">m_status</a> = <span class="stringliteral">&quot;⚠️ Brak zapisanych danych lokalnych&quot;</span>;</div>
<div class="line"><span class="lineno">  261</span>            emit <a class="code hl_signal" href="#af63d0bdd203b1b2d04bb90c96493f617">statusChanged</a>();</div>
<div class="line"><span class="lineno">  262</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  263</span>        }</div>
<div class="line"><span class="lineno">  264</span> </div>
<div class="line"><span class="lineno">  265</span>        <span class="keywordflow">if</span> (!file.open(QIODevice::ReadOnly)) {</div>
<div class="line"><span class="lineno">  266</span>            qWarning() &lt;&lt; <span class="stringliteral">&quot;⚠️ Nie można otworzyć pliku data.json:&quot;</span> &lt;&lt; file.errorString();</div>
<div class="line"><span class="lineno">  267</span>            <a class="code hl_variable" href="#a129aa70bf893c18f9a8e802732110906">m_status</a> = <span class="stringliteral">&quot;⚠️ Brak dostępu do danych lokalnych&quot;</span>;</div>
<div class="line"><span class="lineno">  268</span>            emit <a class="code hl_signal" href="#af63d0bdd203b1b2d04bb90c96493f617">statusChanged</a>();</div>
<div class="line"><span class="lineno">  269</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  270</span>        }</div>
<div class="line"><span class="lineno">  271</span> </div>
<div class="line"><span class="lineno">  272</span>        QByteArray rawData = file.readAll();</div>
<div class="line"><span class="lineno">  273</span>        file.close();</div>
<div class="line"><span class="lineno">  274</span> </div>
<div class="line"><span class="lineno">  275</span>        <span class="keywordflow">if</span> (rawData.isEmpty()) {</div>
<div class="line"><span class="lineno">  276</span>            qWarning() &lt;&lt; <span class="stringliteral">&quot;⚠️ Plik data.json jest pusty!&quot;</span>;</div>
<div class="line"><span class="lineno">  277</span>            <a class="code hl_variable" href="#a129aa70bf893c18f9a8e802732110906">m_status</a> = <span class="stringliteral">&quot;⚠️ Plik danych jest pusty&quot;</span>;</div>
<div class="line"><span class="lineno">  278</span>            emit <a class="code hl_signal" href="#af63d0bdd203b1b2d04bb90c96493f617">statusChanged</a>();</div>
<div class="line"><span class="lineno">  279</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  280</span>        }</div>
<div class="line"><span class="lineno">  281</span> </div>
<div class="line"><span class="lineno">  282</span>        QJsonParseError error;</div>
<div class="line"><span class="lineno">  283</span>        QJsonDocument doc = QJsonDocument::fromJson(rawData, &amp;error);</div>
<div class="line"><span class="lineno">  284</span>        <span class="keywordflow">if</span> (error.error != QJsonParseError::NoError) {</div>
<div class="line"><span class="lineno">  285</span>            qWarning() &lt;&lt; <span class="stringliteral">&quot;⚠️ Błąd parsowania JSON:&quot;</span> &lt;&lt; error.errorString();</div>
<div class="line"><span class="lineno">  286</span>            <a class="code hl_variable" href="#a129aa70bf893c18f9a8e802732110906">m_status</a> = <span class="stringliteral">&quot;⚠️ Błąd wczytywania danych lokalnych&quot;</span>;</div>
<div class="line"><span class="lineno">  287</span>            emit <a class="code hl_signal" href="#af63d0bdd203b1b2d04bb90c96493f617">statusChanged</a>();</div>
<div class="line"><span class="lineno">  288</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  289</span>        }</div>
<div class="line"><span class="lineno">  290</span> </div>
<div class="line"><span class="lineno">  291</span>        QVariantMap data = doc.toVariant().toMap();</div>
<div class="line"><span class="lineno">  292</span>        qDebug() &lt;&lt; <span class="stringliteral">&quot;Wczytano dane z pliku, znaleziono klucze:&quot;</span> &lt;&lt; data.keys();</div>
<div class="line"><span class="lineno">  293</span> </div>
<div class="line"><span class="lineno">  294</span>        <span class="comment">// Wczytaj czujniki</span></div>
<div class="line"><span class="lineno">  295</span>        <span class="keywordflow">if</span> (data.contains(<span class="stringliteral">&quot;sensors&quot;</span>)) {</div>
<div class="line"><span class="lineno">  296</span>            QVariantMap sensorsMap = data[<span class="stringliteral">&quot;sensors&quot;</span>].toMap();</div>
<div class="line"><span class="lineno">  297</span>            qDebug() &lt;&lt; <span class="stringliteral">&quot;Klucze stacji w sensors:&quot;</span> &lt;&lt; sensorsMap.keys();</div>
<div class="line"><span class="lineno">  298</span> </div>
<div class="line"><span class="lineno">  299</span>            <span class="keywordflow">if</span> (sensorsMap.contains(stationIdStr)) {</div>
<div class="line"><span class="lineno">  300</span>                QVariant sensorsData = sensorsMap[stationIdStr];</div>
<div class="line"><span class="lineno">  301</span> </div>
<div class="line"><span class="lineno">  302</span>                <span class="keywordflow">if</span> (sensorsData.canConvert&lt;QVariantList&gt;()) {</div>
<div class="line"><span class="lineno">  303</span>                    <a class="code hl_variable" href="#a92bf654c17191fc98ea2531558cf877d">m_sensors</a> = sensorsData.toList();</div>
<div class="line"><span class="lineno">  304</span>                    qDebug() &lt;&lt; <span class="stringliteral">&quot;✅ Wczytano&quot;</span> &lt;&lt; <a class="code hl_variable" href="#a92bf654c17191fc98ea2531558cf877d">m_sensors</a>.size() &lt;&lt; <span class="stringliteral">&quot;czujników dla stacji&quot;</span> &lt;&lt; stationId;</div>
<div class="line"><span class="lineno">  305</span> </div>
<div class="line"><span class="lineno">  306</span>                    <span class="comment">// Dodaj brakujące lastValue z pomiarów sensor_XXX.json</span></div>
<div class="line"><span class="lineno">  307</span>                    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code hl_variable" href="#a92bf654c17191fc98ea2531558cf877d">m_sensors</a>.size(); ++i) {</div>
<div class="line"><span class="lineno">  308</span>                        QVariantMap sensor = <a class="code hl_variable" href="#a92bf654c17191fc98ea2531558cf877d">m_sensors</a>[i].toMap();</div>
<div class="line"><span class="lineno">  309</span>                        <span class="keywordtype">int</span> sensorId = sensor[<span class="stringliteral">&quot;id&quot;</span>].toInt();</div>
<div class="line"><span class="lineno">  310</span> </div>
<div class="line"><span class="lineno">  311</span>                        QString filename = <span class="stringliteral">&quot;data/sensor_&quot;</span> + QString::number(sensorId) + <span class="stringliteral">&quot;.json&quot;</span>;</div>
<div class="line"><span class="lineno">  312</span>                        QVariantList data = <a class="code hl_function" href="class_storage.html#a0a61659991b42c56f425fba6c5cd407e">Storage::loadSensorDataFromFile</a>(filename);</div>
<div class="line"><span class="lineno">  313</span> </div>
<div class="line"><span class="lineno">  314</span>                        <span class="keywordflow">if</span> (!data.isEmpty()) {</div>
<div class="line"><span class="lineno">  315</span>                            QVariantMap firstEntry = data.first().toMap();</div>
<div class="line"><span class="lineno">  316</span>                            sensor[<span class="stringliteral">&quot;lastValue&quot;</span>] = firstEntry[<span class="stringliteral">&quot;value&quot;</span>];</div>
<div class="line"><span class="lineno">  317</span>                            sensor[<span class="stringliteral">&quot;lastDate&quot;</span>] = firstEntry[<span class="stringliteral">&quot;date&quot;</span>];</div>
<div class="line"><span class="lineno">  318</span>                        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  319</span>                            sensor[<span class="stringliteral">&quot;lastValue&quot;</span>] = <span class="stringliteral">&quot;Brak danych&quot;</span>;</div>
<div class="line"><span class="lineno">  320</span>                            sensor[<span class="stringliteral">&quot;lastDate&quot;</span>] = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><span class="lineno">  321</span>                        }</div>
<div class="line"><span class="lineno">  322</span> </div>
<div class="line"><span class="lineno">  323</span>                        <a class="code hl_variable" href="#a92bf654c17191fc98ea2531558cf877d">m_sensors</a>[i] = sensor;</div>
<div class="line"><span class="lineno">  324</span>                    }</div>
<div class="line"><span class="lineno">  325</span> </div>
<div class="line"><span class="lineno">  326</span> </div>
<div class="line"><span class="lineno">  327</span>                    <span class="comment">// Debug pierwszego czujnika jeśli istnieje</span></div>
<div class="line"><span class="lineno">  328</span>                    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="#a92bf654c17191fc98ea2531558cf877d">m_sensors</a>.isEmpty()) {</div>
<div class="line"><span class="lineno">  329</span>                        qDebug() &lt;&lt; <span class="stringliteral">&quot;Pierwszy czujnik zawiera klucze:&quot;</span> &lt;&lt; <a class="code hl_variable" href="#a92bf654c17191fc98ea2531558cf877d">m_sensors</a>.first().toMap().keys();</div>
<div class="line"><span class="lineno">  330</span>                    }</div>
<div class="line"><span class="lineno">  331</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  332</span>                    qWarning() &lt;&lt; <span class="stringliteral">&quot;⚠️ Dane czujników dla stacji&quot;</span> &lt;&lt; stationId &lt;&lt; <span class="stringliteral">&quot;nie są listą!&quot;</span>;</div>
<div class="line"><span class="lineno">  333</span>                    <a class="code hl_variable" href="#a92bf654c17191fc98ea2531558cf877d">m_sensors</a>.clear();</div>
<div class="line"><span class="lineno">  334</span>                }</div>
<div class="line"><span class="lineno">  335</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  336</span>                qWarning() &lt;&lt; <span class="stringliteral">&quot;⚠️ Brak danych czujników dla stacji&quot;</span> &lt;&lt; stationId &lt;&lt; <span class="stringliteral">&quot;w pliku&quot;</span>;</div>
<div class="line"><span class="lineno">  337</span>                <a class="code hl_variable" href="#a92bf654c17191fc98ea2531558cf877d">m_sensors</a>.clear();</div>
<div class="line"><span class="lineno">  338</span>            }</div>
<div class="line"><span class="lineno">  339</span>            emit <a class="code hl_signal" href="#a91c4b769235bc0aafc20ad7b2fb2a1e3">sensorsChanged</a>();</div>
<div class="line"><span class="lineno">  340</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  341</span>            qWarning() &lt;&lt; <span class="stringliteral">&quot;⚠️ Brak sekcji sensors w pliku data.json&quot;</span>;</div>
<div class="line"><span class="lineno">  342</span>            <a class="code hl_variable" href="#a92bf654c17191fc98ea2531558cf877d">m_sensors</a>.clear();</div>
<div class="line"><span class="lineno">  343</span>            emit <a class="code hl_signal" href="#a91c4b769235bc0aafc20ad7b2fb2a1e3">sensorsChanged</a>();</div>
<div class="line"><span class="lineno">  344</span>        }</div>
<div class="line"><span class="lineno">  345</span> </div>
<div class="line"><span class="lineno">  346</span>        <span class="comment">// Wczytaj indeks</span></div>
<div class="line"><span class="lineno">  347</span>        <span class="keywordflow">if</span> (data.contains(<span class="stringliteral">&quot;indices&quot;</span>)) {</div>
<div class="line"><span class="lineno">  348</span>            QVariantMap indicesMap = data[<span class="stringliteral">&quot;indices&quot;</span>].toMap();</div>
<div class="line"><span class="lineno">  349</span>            qDebug() &lt;&lt; <span class="stringliteral">&quot;Klucze stacji w indices:&quot;</span> &lt;&lt; indicesMap.keys();</div>
<div class="line"><span class="lineno">  350</span> </div>
<div class="line"><span class="lineno">  351</span>            <span class="keywordflow">if</span> (indicesMap.contains(stationIdStr)) {</div>
<div class="line"><span class="lineno">  352</span>                QVariant indexData = indicesMap[stationIdStr];</div>
<div class="line"><span class="lineno">  353</span> </div>
<div class="line"><span class="lineno">  354</span>                <span class="keywordflow">if</span> (indexData.canConvert&lt;QVariantMap&gt;()) {</div>
<div class="line"><span class="lineno">  355</span>                    <a class="code hl_variable" href="#ad104e1305d8d161bdf6985ef5dd48f5e">m_airQualityIndex</a> = indexData.toMap();</div>
<div class="line"><span class="lineno">  356</span>                    qDebug() &lt;&lt; <span class="stringliteral">&quot;✅ Wczytano indeks dla stacji&quot;</span> &lt;&lt; stationId &lt;&lt; <span class="stringliteral">&quot;z kluczami:&quot;</span> &lt;&lt; <a class="code hl_variable" href="#ad104e1305d8d161bdf6985ef5dd48f5e">m_airQualityIndex</a>.keys();</div>
<div class="line"><span class="lineno">  357</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  358</span>                    qWarning() &lt;&lt; <span class="stringliteral">&quot;⚠️ Dane indeksu dla stacji&quot;</span> &lt;&lt; stationId &lt;&lt; <span class="stringliteral">&quot;nie są mapą!&quot;</span>;</div>
<div class="line"><span class="lineno">  359</span>                    <a class="code hl_variable" href="#ad104e1305d8d161bdf6985ef5dd48f5e">m_airQualityIndex</a> = QVariantMap();</div>
<div class="line"><span class="lineno">  360</span>                    <a class="code hl_variable" href="#ad104e1305d8d161bdf6985ef5dd48f5e">m_airQualityIndex</a>[<span class="stringliteral">&quot;stIndexLevel&quot;</span>] = <span class="stringliteral">&quot;Brak danych (offline)&quot;</span>;</div>
<div class="line"><span class="lineno">  361</span>                    <a class="code hl_variable" href="#ad104e1305d8d161bdf6985ef5dd48f5e">m_airQualityIndex</a>[<span class="stringliteral">&quot;stIndexLevelId&quot;</span>] = -1;</div>
<div class="line"><span class="lineno">  362</span>                }</div>
<div class="line"><span class="lineno">  363</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  364</span>                qWarning() &lt;&lt; <span class="stringliteral">&quot;⚠️ Brak danych indeksu dla stacji&quot;</span> &lt;&lt; stationId &lt;&lt; <span class="stringliteral">&quot;w pliku&quot;</span>;</div>
<div class="line"><span class="lineno">  365</span>                <a class="code hl_variable" href="#ad104e1305d8d161bdf6985ef5dd48f5e">m_airQualityIndex</a> = QVariantMap();</div>
<div class="line"><span class="lineno">  366</span>                <a class="code hl_variable" href="#ad104e1305d8d161bdf6985ef5dd48f5e">m_airQualityIndex</a>[<span class="stringliteral">&quot;stIndexLevel&quot;</span>] = <span class="stringliteral">&quot;Brak danych (offline)&quot;</span>;</div>
<div class="line"><span class="lineno">  367</span>                <a class="code hl_variable" href="#ad104e1305d8d161bdf6985ef5dd48f5e">m_airQualityIndex</a>[<span class="stringliteral">&quot;stIndexLevelId&quot;</span>] = -1;</div>
<div class="line"><span class="lineno">  368</span>            }</div>
<div class="line"><span class="lineno">  369</span>            emit <a class="code hl_signal" href="#ac4d719c188dc1a3f595bef2c75c13e9a">airQualityIndexChanged</a>();</div>
<div class="line"><span class="lineno">  370</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  371</span>            qWarning() &lt;&lt; <span class="stringliteral">&quot;⚠️ Brak sekcji indices w pliku data.json&quot;</span>;</div>
<div class="line"><span class="lineno">  372</span>            <a class="code hl_variable" href="#ad104e1305d8d161bdf6985ef5dd48f5e">m_airQualityIndex</a> = QVariantMap();</div>
<div class="line"><span class="lineno">  373</span>            <a class="code hl_variable" href="#ad104e1305d8d161bdf6985ef5dd48f5e">m_airQualityIndex</a>[<span class="stringliteral">&quot;stIndexLevel&quot;</span>] = <span class="stringliteral">&quot;Brak danych (offline)&quot;</span>;</div>
<div class="line"><span class="lineno">  374</span>            <a class="code hl_variable" href="#ad104e1305d8d161bdf6985ef5dd48f5e">m_airQualityIndex</a>[<span class="stringliteral">&quot;stIndexLevelId&quot;</span>] = -1;</div>
<div class="line"><span class="lineno">  375</span>            emit <a class="code hl_signal" href="#ac4d719c188dc1a3f595bef2c75c13e9a">airQualityIndexChanged</a>();</div>
<div class="line"><span class="lineno">  376</span>        }</div>
<div class="line"><span class="lineno">  377</span> </div>
<div class="line"><span class="lineno">  378</span>        <a class="code hl_variable" href="#aaa9840f4efbb607c7d95a8d7db2e71b1">m_sensorViewVisible</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  379</span>        emit <a class="code hl_signal" href="#aff62f1b26fca3dc2abceebc8e6827d4b">sensorViewVisibleChanged</a>();</div>
<div class="line"><span class="lineno">  380</span>    }</div>
<div class="line"><span class="lineno">  381</span>}</div>
<div class="ttc" id="aclass_main_window_html_a04bb3d38411c1358b61c5fbe0ff80ead"><div class="ttname"><a href="#a04bb3d38411c1358b61c5fbe0ff80ead">MainWindow::debugJsonFile</a></div><div class="ttdeci">void debugJsonFile()</div><div class="ttdef"><b>Definition</b> <a href="mainwindow_8cpp_source.html#l00899">mainwindow.cpp:899</a></div></div>
<div class="ttc" id="aclass_main_window_html_a91c4b769235bc0aafc20ad7b2fb2a1e3"><div class="ttname"><a href="#a91c4b769235bc0aafc20ad7b2fb2a1e3">MainWindow::sensorsChanged</a></div><div class="ttdeci">void sensorsChanged()</div></div>
<div class="ttc" id="aclass_main_window_html_a92bf654c17191fc98ea2531558cf877d"><div class="ttname"><a href="#a92bf654c17191fc98ea2531558cf877d">MainWindow::m_sensors</a></div><div class="ttdeci">QVariantList m_sensors</div><div class="ttdef"><b>Definition</b> <a href="mainwindow_8h_source.html#l00068">mainwindow.h:68</a></div></div>
<div class="ttc" id="aclass_main_window_html_ac4d719c188dc1a3f595bef2c75c13e9a"><div class="ttname"><a href="#ac4d719c188dc1a3f595bef2c75c13e9a">MainWindow::airQualityIndexChanged</a></div><div class="ttdeci">void airQualityIndexChanged()</div></div>
<div class="ttc" id="aclass_main_window_html_aff62f1b26fca3dc2abceebc8e6827d4b"><div class="ttname"><a href="#aff62f1b26fca3dc2abceebc8e6827d4b">MainWindow::sensorViewVisibleChanged</a></div><div class="ttdeci">void sensorViewVisibleChanged()</div></div>
<div class="ttc" id="aclass_storage_html_a0a61659991b42c56f425fba6c5cd407e"><div class="ttname"><a href="class_storage.html#a0a61659991b42c56f425fba6c5cd407e">Storage::loadSensorDataFromFile</a></div><div class="ttdeci">static QVariantList loadSensorDataFromFile(const QString &amp;filename)</div><div class="ttdef"><b>Definition</b> <a href="storage_8cpp_source.html#l00073">storage.cpp:73</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="abd4e34cbb1e845a35c9d09ef4c390ffc" name="abd4e34cbb1e845a35c9d09ef4c390ffc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd4e34cbb1e845a35c9d09ef4c390ffc">&#9670;&#160;</a></span>fetchStations()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MainWindow::fetchStations </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mainwindow_8cpp_source.html#l00227">227</a> of file <a class="el" href="mainwindow_8cpp_source.html">mainwindow.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  227</span>                               {</div>
<div class="line"><span class="lineno">  228</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="#afa9323f1c05f963651440d5f36ef4c76">m_isOnline</a>) {</div>
<div class="line"><span class="lineno">  229</span>        <a class="code hl_variable" href="#a129aa70bf893c18f9a8e802732110906">m_status</a> = <span class="stringliteral">&quot;⏳ Pobieranie stacji pomiarowych...&quot;</span>;</div>
<div class="line"><span class="lineno">  230</span>        emit <a class="code hl_signal" href="#af63d0bdd203b1b2d04bb90c96493f617">statusChanged</a>();</div>
<div class="line"><span class="lineno">  231</span>        <a class="code hl_variable" href="#a7cc5248d2dc440404469679d749ddbe7">m_networkManager</a>-&gt;get(QNetworkRequest(QUrl(<span class="stringliteral">&quot;https://api.gios.gov.pl/pjp-api/rest/station/findAll&quot;</span>)));</div>
<div class="line"><span class="lineno">  232</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  233</span>        <a class="code hl_variable" href="#a129aa70bf893c18f9a8e802732110906">m_status</a> = <span class="stringliteral">&quot;📋 Lista stacji (offline)&quot;</span>;</div>
<div class="line"><span class="lineno">  234</span>        emit <a class="code hl_signal" href="#af63d0bdd203b1b2d04bb90c96493f617">statusChanged</a>();</div>
<div class="line"><span class="lineno">  235</span>        <a class="code hl_function" href="#a6e3b2ef723312e0d92eef9de94ec0eb2">loadDataFromFile</a>();</div>
<div class="line"><span class="lineno">  236</span>    }</div>
<div class="line"><span class="lineno">  237</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="afe94ec38db2b3cbadd7bd959b4d7d3e5" name="afe94ec38db2b3cbadd7bd959b4d7d3e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe94ec38db2b3cbadd7bd959b4d7d3e5">&#9670;&#160;</a></span>filterStationsByCity()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MainWindow::filterStationsByCity </td>
          <td>(</td>
          <td class="paramtype">const QString &amp;</td>          <td class="paramname"><span class="paramname"><em>city</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mainwindow_8cpp_source.html#l00446">446</a> of file <a class="el" href="mainwindow_8cpp_source.html">mainwindow.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  446</span>                                                         {</div>
<div class="line"><span class="lineno">  447</span>    <span class="keywordflow">if</span> (city.trimmed().isEmpty()) {</div>
<div class="line"><span class="lineno">  448</span>        <a class="code hl_variable" href="#a3dfc1fa389fd999243084db2f6284eb5">m_filteredStations</a> = <a class="code hl_variable" href="#ab5328eb2844190cc939f27c78aa8f6f9">m_allStations</a>;</div>
<div class="line"><span class="lineno">  449</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  450</span>        <a class="code hl_variable" href="#a3dfc1fa389fd999243084db2f6284eb5">m_filteredStations</a>.clear();</div>
<div class="line"><span class="lineno">  451</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> QVariant &amp;station : <a class="code hl_variable" href="#ab5328eb2844190cc939f27c78aa8f6f9">m_allStations</a>) {</div>
<div class="line"><span class="lineno">  452</span>            QVariantMap s = station.toMap();</div>
<div class="line"><span class="lineno">  453</span>            <span class="keywordflow">if</span> (s[<span class="stringliteral">&quot;city&quot;</span>].toString().contains(city, Qt::CaseInsensitive))</div>
<div class="line"><span class="lineno">  454</span>                <a class="code hl_variable" href="#a3dfc1fa389fd999243084db2f6284eb5">m_filteredStations</a>.append(s);</div>
<div class="line"><span class="lineno">  455</span>        }</div>
<div class="line"><span class="lineno">  456</span>    }</div>
<div class="line"><span class="lineno">  457</span>    emit <a class="code hl_signal" href="#ad6d230c53c3628833a80896fa729c06a">stationsChanged</a>();</div>
<div class="line"><span class="lineno">  458</span> </div>
<div class="line"><span class="lineno">  459</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="#a3dfc1fa389fd999243084db2f6284eb5">m_filteredStations</a>.isEmpty()) {</div>
<div class="line"><span class="lineno">  460</span>        <a class="code hl_variable" href="#a129aa70bf893c18f9a8e802732110906">m_status</a> = <span class="stringliteral">&quot;❓ Nie znaleziono stacji dla miasta: &quot;</span> + city;</div>
<div class="line"><span class="lineno">  461</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  462</span>        <a class="code hl_variable" href="#a129aa70bf893c18f9a8e802732110906">m_status</a> = <span class="stringliteral">&quot;✅ Znaleziono &quot;</span> + QString::number(<a class="code hl_variable" href="#a3dfc1fa389fd999243084db2f6284eb5">m_filteredStations</a>.size()) + <span class="stringliteral">&quot; stacji dla: &quot;</span> + city;</div>
<div class="line"><span class="lineno">  463</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="#afa9323f1c05f963651440d5f36ef4c76">m_isOnline</a>) {</div>
<div class="line"><span class="lineno">  464</span>            <a class="code hl_variable" href="#a129aa70bf893c18f9a8e802732110906">m_status</a> += <span class="stringliteral">&quot; (offline)&quot;</span>;</div>
<div class="line"><span class="lineno">  465</span>        }</div>
<div class="line"><span class="lineno">  466</span>    }</div>
<div class="line"><span class="lineno">  467</span>    emit <a class="code hl_signal" href="#af63d0bdd203b1b2d04bb90c96493f617">statusChanged</a>();</div>
<div class="line"><span class="lineno">  468</span>}</div>
<div class="ttc" id="aclass_main_window_html_a3dfc1fa389fd999243084db2f6284eb5"><div class="ttname"><a href="#a3dfc1fa389fd999243084db2f6284eb5">MainWindow::m_filteredStations</a></div><div class="ttdeci">QVariantList m_filteredStations</div><div class="ttdef"><b>Definition</b> <a href="mainwindow_8h_source.html#l00067">mainwindow.h:67</a></div></div>
<div class="ttc" id="aclass_main_window_html_ab5328eb2844190cc939f27c78aa8f6f9"><div class="ttname"><a href="#ab5328eb2844190cc939f27c78aa8f6f9">MainWindow::m_allStations</a></div><div class="ttdeci">QVariantList m_allStations</div><div class="ttdef"><b>Definition</b> <a href="mainwindow_8h_source.html#l00066">mainwindow.h:66</a></div></div>
<div class="ttc" id="aclass_main_window_html_ad6d230c53c3628833a80896fa729c06a"><div class="ttname"><a href="#ad6d230c53c3628833a80896fa729c06a">MainWindow::stationsChanged</a></div><div class="ttdeci">void stationsChanged()</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ace1d78d77ce0fa6850f611034e1218eb" name="ace1d78d77ce0fa6850f611034e1218eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace1d78d77ce0fa6850f611034e1218eb">&#9670;&#160;</a></span>goBackToSensorList()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MainWindow::goBackToSensorList </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mainwindow_8cpp_source.html#l00434">434</a> of file <a class="el" href="mainwindow_8cpp_source.html">mainwindow.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  434</span>                                    {</div>
<div class="line"><span class="lineno">  435</span>    <a class="code hl_variable" href="#a37444fda0cbae2fddae3d53ffb4c525d">m_chartViewVisible</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  436</span>    <a class="code hl_variable" href="#aaa9840f4efbb607c7d95a8d7db2e71b1">m_sensorViewVisible</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  437</span>    emit <a class="code hl_signal" href="#a2f31d14cf5c4d7d140d95ca3b1221913">chartViewVisibleChanged</a>();</div>
<div class="line"><span class="lineno">  438</span>    emit <a class="code hl_signal" href="#aff62f1b26fca3dc2abceebc8e6827d4b">sensorViewVisibleChanged</a>();</div>
<div class="line"><span class="lineno">  439</span>    QString stationName = <a class="code hl_variable" href="#a0ab136ba16cc1dfddea1f5f4e97ca4b0">m_selectedStation</a>[<span class="stringliteral">&quot;stationName&quot;</span>].toString();</div>
<div class="line"><span class="lineno">  440</span>    <a class="code hl_variable" href="#a129aa70bf893c18f9a8e802732110906">m_status</a> = <a class="code hl_variable" href="#afa9323f1c05f963651440d5f36ef4c76">m_isOnline</a> ?</div>
<div class="line"><span class="lineno">  441</span>                   <span class="stringliteral">&quot;📋 Lista czujników dla stacji &quot;</span> + stationName :</div>
<div class="line"><span class="lineno">  442</span>                   <span class="stringliteral">&quot;📋 Lista czujników dla stacji &quot;</span> + stationName + <span class="stringliteral">&quot; (offline)&quot;</span>;</div>
<div class="line"><span class="lineno">  443</span>    emit <a class="code hl_signal" href="#af63d0bdd203b1b2d04bb90c96493f617">statusChanged</a>();</div>
<div class="line"><span class="lineno">  444</span>}</div>
<div class="ttc" id="aclass_main_window_html_a2f31d14cf5c4d7d140d95ca3b1221913"><div class="ttname"><a href="#a2f31d14cf5c4d7d140d95ca3b1221913">MainWindow::chartViewVisibleChanged</a></div><div class="ttdeci">void chartViewVisibleChanged()</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="afffedfe87ba6c835e4e80676ae8f7bf8" name="afffedfe87ba6c835e4e80676ae8f7bf8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afffedfe87ba6c835e4e80676ae8f7bf8">&#9670;&#160;</a></span>goBackToStationList()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MainWindow::goBackToStationList </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mainwindow_8cpp_source.html#l00427">427</a> of file <a class="el" href="mainwindow_8cpp_source.html">mainwindow.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  427</span>                                     {</div>
<div class="line"><span class="lineno">  428</span>    <a class="code hl_variable" href="#aaa9840f4efbb607c7d95a8d7db2e71b1">m_sensorViewVisible</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  429</span>    emit <a class="code hl_signal" href="#aff62f1b26fca3dc2abceebc8e6827d4b">sensorViewVisibleChanged</a>();</div>
<div class="line"><span class="lineno">  430</span>    <a class="code hl_variable" href="#a129aa70bf893c18f9a8e802732110906">m_status</a> = <a class="code hl_variable" href="#afa9323f1c05f963651440d5f36ef4c76">m_isOnline</a> ? <span class="stringliteral">&quot;📋 Lista stacji pomiarowych&quot;</span> : <span class="stringliteral">&quot;📋 Lista stacji (offline)&quot;</span>;</div>
<div class="line"><span class="lineno">  431</span>    emit <a class="code hl_signal" href="#af63d0bdd203b1b2d04bb90c96493f617">statusChanged</a>();</div>
<div class="line"><span class="lineno">  432</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a0891b976eab162ecf05a74449bbc4de4" name="a0891b976eab162ecf05a74449bbc4de4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0891b976eab162ecf05a74449bbc4de4">&#9670;&#160;</a></span>handleAirQualityIndexReply()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MainWindow::handleAirQualityIndexReply </td>
          <td>(</td>
          <td class="paramtype">const QJsonDocument &amp;</td>          <td class="paramname"><span class="paramname"><em>doc</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mainwindow_8cpp_source.html#l00700">700</a> of file <a class="el" href="mainwindow_8cpp_source.html">mainwindow.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  700</span>                                                                    {</div>
<div class="line"><span class="lineno">  701</span>    QJsonObject obj = doc.object();</div>
<div class="line"><span class="lineno">  702</span>    QVariantMap index;</div>
<div class="line"><span class="lineno">  703</span> </div>
<div class="line"><span class="lineno">  704</span>    <span class="comment">// Upewnij się, że mamy wybraną stację</span></div>
<div class="line"><span class="lineno">  705</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="#a0ab136ba16cc1dfddea1f5f4e97ca4b0">m_selectedStation</a>.isEmpty()) {</div>
<div class="line"><span class="lineno">  706</span>        qWarning() &lt;&lt; <span class="stringliteral">&quot;❗ Brak wybranej stacji przy obsłudze indeksu&quot;</span>;</div>
<div class="line"><span class="lineno">  707</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  708</span>    }</div>
<div class="line"><span class="lineno">  709</span> </div>
<div class="line"><span class="lineno">  710</span>    <span class="keywordtype">int</span> stationId = <a class="code hl_variable" href="#a0ab136ba16cc1dfddea1f5f4e97ca4b0">m_selectedStation</a>[<span class="stringliteral">&quot;stationId&quot;</span>].toInt();</div>
<div class="line"><span class="lineno">  711</span>    QString stationIdStr = QString::number(stationId);</div>
<div class="line"><span class="lineno">  712</span>    qDebug() &lt;&lt; <span class="stringliteral">&quot;Otrzymano indeks jakości powietrza dla stacji ID:&quot;</span> &lt;&lt; stationIdStr;</div>
<div class="line"><span class="lineno">  713</span> </div>
<div class="line"><span class="lineno">  714</span>    index[<span class="stringliteral">&quot;id&quot;</span>] = obj[<span class="stringliteral">&quot;id&quot;</span>].toInt();</div>
<div class="line"><span class="lineno">  715</span> </div>
<div class="line"><span class="lineno">  716</span>    <span class="keywordflow">if</span> (!obj[<span class="stringliteral">&quot;stIndexLevel&quot;</span>].isNull() &amp;&amp; obj[<span class="stringliteral">&quot;stIndexLevel&quot;</span>].isObject()) {</div>
<div class="line"><span class="lineno">  717</span>        index[<span class="stringliteral">&quot;stIndexLevel&quot;</span>] = obj[<span class="stringliteral">&quot;stIndexLevel&quot;</span>].toObject()[<span class="stringliteral">&quot;indexLevelName&quot;</span>].toString();</div>
<div class="line"><span class="lineno">  718</span>        index[<span class="stringliteral">&quot;stIndexLevelId&quot;</span>] = obj[<span class="stringliteral">&quot;stIndexLevel&quot;</span>].toObject()[<span class="stringliteral">&quot;id&quot;</span>].toInt();</div>
<div class="line"><span class="lineno">  719</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  720</span>        index[<span class="stringliteral">&quot;stIndexLevel&quot;</span>] = QVariant(QString(<span class="stringliteral">&quot;Brak danych&quot;</span>));</div>
<div class="line"><span class="lineno">  721</span>        index[<span class="stringliteral">&quot;stIndexLevelId&quot;</span>] = -1;</div>
<div class="line"><span class="lineno">  722</span>    }</div>
<div class="line"><span class="lineno">  723</span> </div>
<div class="line"><span class="lineno">  724</span>    index[<span class="stringliteral">&quot;stSourceDataDate&quot;</span>] = obj[<span class="stringliteral">&quot;stSourceDataDate&quot;</span>].toString();</div>
<div class="line"><span class="lineno">  725</span>    index[<span class="stringliteral">&quot;stCalcDate&quot;</span>] = obj[<span class="stringliteral">&quot;stCalcDate&quot;</span>].toString();</div>
<div class="line"><span class="lineno">  726</span> </div>
<div class="line"><span class="lineno">  727</span>    <a class="code hl_variable" href="#ad104e1305d8d161bdf6985ef5dd48f5e">m_airQualityIndex</a> = index;</div>
<div class="line"><span class="lineno">  728</span>    emit <a class="code hl_signal" href="#ac4d719c188dc1a3f595bef2c75c13e9a">airQualityIndexChanged</a>();</div>
<div class="line"><span class="lineno">  729</span> </div>
<div class="line"><span class="lineno">  730</span>    <span class="comment">// Zapisz indeks do pliku</span></div>
<div class="line"><span class="lineno">  731</span>    QFile dataFile(<span class="stringliteral">&quot;data/data.json&quot;</span>);</div>
<div class="line"><span class="lineno">  732</span>    QVariantMap fullData;</div>
<div class="line"><span class="lineno">  733</span> </div>
<div class="line"><span class="lineno">  734</span>    <span class="comment">// Wczytaj istniejące dane, jeśli plik istnieje</span></div>
<div class="line"><span class="lineno">  735</span>    <span class="keywordflow">if</span> (dataFile.exists() &amp;&amp; dataFile.open(QIODevice::ReadOnly)) {</div>
<div class="line"><span class="lineno">  736</span>        QJsonDocument existingDoc = QJsonDocument::fromJson(dataFile.readAll());</div>
<div class="line"><span class="lineno">  737</span>        dataFile.close();</div>
<div class="line"><span class="lineno">  738</span>        fullData = existingDoc.toVariant().toMap();</div>
<div class="line"><span class="lineno">  739</span>    }</div>
<div class="line"><span class="lineno">  740</span> </div>
<div class="line"><span class="lineno">  741</span>    <span class="comment">// Dodaj dane stacji, jeśli ich nie ma</span></div>
<div class="line"><span class="lineno">  742</span>    <span class="keywordflow">if</span> (!fullData.contains(<span class="stringliteral">&quot;stations&quot;</span>)) {</div>
<div class="line"><span class="lineno">  743</span>        fullData[<span class="stringliteral">&quot;stations&quot;</span>] = <a class="code hl_variable" href="#ab5328eb2844190cc939f27c78aa8f6f9">m_allStations</a>;</div>
<div class="line"><span class="lineno">  744</span>    }</div>
<div class="line"><span class="lineno">  745</span> </div>
<div class="line"><span class="lineno">  746</span>    <span class="comment">// Dodaj/aktualizuj indeks dla konkretnej stacji</span></div>
<div class="line"><span class="lineno">  747</span>    <span class="keywordflow">if</span> (!fullData.contains(<span class="stringliteral">&quot;indices&quot;</span>)) {</div>
<div class="line"><span class="lineno">  748</span>        fullData[<span class="stringliteral">&quot;indices&quot;</span>] = QVariantMap();</div>
<div class="line"><span class="lineno">  749</span>    }</div>
<div class="line"><span class="lineno">  750</span> </div>
<div class="line"><span class="lineno">  751</span>    QVariantMap indicesMap = fullData[<span class="stringliteral">&quot;indices&quot;</span>].toMap();</div>
<div class="line"><span class="lineno">  752</span>    indicesMap[stationIdStr] = index;  <span class="comment">// Klucz to ID stacji</span></div>
<div class="line"><span class="lineno">  753</span>    fullData[<span class="stringliteral">&quot;indices&quot;</span>] = indicesMap;</div>
<div class="line"><span class="lineno">  754</span> </div>
<div class="line"><span class="lineno">  755</span>    <span class="comment">// Aktualizuj timestamp</span></div>
<div class="line"><span class="lineno">  756</span>    fullData[<span class="stringliteral">&quot;timestamp&quot;</span>] = QDateTime::currentDateTime().toString(Qt::ISODate);</div>
<div class="line"><span class="lineno">  757</span> </div>
<div class="line"><span class="lineno">  758</span>    <span class="comment">// Zapisz dane</span></div>
<div class="line"><span class="lineno">  759</span>    <span class="keywordflow">if</span> (dataFile.open(QIODevice::WriteOnly)) {</div>
<div class="line"><span class="lineno">  760</span>        QJsonDocument saveDoc = QJsonDocument::fromVariant(fullData);</div>
<div class="line"><span class="lineno">  761</span>        dataFile.write(saveDoc.toJson());</div>
<div class="line"><span class="lineno">  762</span>        dataFile.close();</div>
<div class="line"><span class="lineno">  763</span>        qDebug() &lt;&lt; <span class="stringliteral">&quot;💾 Zapisano indeks dla stacji&quot;</span> &lt;&lt; stationIdStr;</div>
<div class="line"><span class="lineno">  764</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  765</span>        qWarning() &lt;&lt; <span class="stringliteral">&quot;❗ Nie można zapisać danych do pliku&quot;</span>;</div>
<div class="line"><span class="lineno">  766</span>    }</div>
<div class="line"><span class="lineno">  767</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a456e3569512c243fda339b3da6052d65" name="a456e3569512c243fda339b3da6052d65"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a456e3569512c243fda339b3da6052d65">&#9670;&#160;</a></span>handleSensorDataReply()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MainWindow::handleSensorDataReply </td>
          <td>(</td>
          <td class="paramtype">const QJsonDocument &amp;</td>          <td class="paramname"><span class="paramname"><em>doc</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>sensorId</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mainwindow_8cpp_source.html#l00769">769</a> of file <a class="el" href="mainwindow_8cpp_source.html">mainwindow.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  769</span>                                                                             {</div>
<div class="line"><span class="lineno">  770</span>    QJsonObject obj = doc.object();</div>
<div class="line"><span class="lineno">  771</span>    QJsonArray values = obj[<span class="stringliteral">&quot;values&quot;</span>].toArray();</div>
<div class="line"><span class="lineno">  772</span> </div>
<div class="line"><span class="lineno">  773</span>    QVariantList parsed;</div>
<div class="line"><span class="lineno">  774</span>    <span class="keywordtype">double</span> latestValue = -1;</div>
<div class="line"><span class="lineno">  775</span>    QString latestDate;</div>
<div class="line"><span class="lineno">  776</span> </div>
<div class="line"><span class="lineno">  777</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;val : values) {</div>
<div class="line"><span class="lineno">  778</span>        QJsonObject o = val.toObject();</div>
<div class="line"><span class="lineno">  779</span>        <span class="keywordflow">if</span> (!o[<span class="stringliteral">&quot;value&quot;</span>].isNull()) {</div>
<div class="line"><span class="lineno">  780</span>            QVariantMap m;</div>
<div class="line"><span class="lineno">  781</span>            m[<span class="stringliteral">&quot;value&quot;</span>] = o[<span class="stringliteral">&quot;value&quot;</span>].toDouble();</div>
<div class="line"><span class="lineno">  782</span>            m[<span class="stringliteral">&quot;date&quot;</span>] = o[<span class="stringliteral">&quot;date&quot;</span>].toString();</div>
<div class="line"><span class="lineno">  783</span>            parsed.append(m);</div>
<div class="line"><span class="lineno">  784</span> </div>
<div class="line"><span class="lineno">  785</span>            <span class="keywordflow">if</span> (latestValue == -1) {</div>
<div class="line"><span class="lineno">  786</span>                latestValue = o[<span class="stringliteral">&quot;value&quot;</span>].toDouble();</div>
<div class="line"><span class="lineno">  787</span>                latestDate = o[<span class="stringliteral">&quot;date&quot;</span>].toString();</div>
<div class="line"><span class="lineno">  788</span>            }</div>
<div class="line"><span class="lineno">  789</span>        }</div>
<div class="line"><span class="lineno">  790</span>    }</div>
<div class="line"><span class="lineno">  791</span> </div>
<div class="line"><span class="lineno">  792</span>    <span class="comment">// Zapisz dane pomiarowe do pliku czujnika</span></div>
<div class="line"><span class="lineno">  793</span>    QString filename = <span class="stringliteral">&quot;data/sensor_&quot;</span> + QString::number(sensorId) + <span class="stringliteral">&quot;.json&quot;</span>;</div>
<div class="line"><span class="lineno">  794</span>    QDir().mkpath(<span class="stringliteral">&quot;data&quot;</span>);</div>
<div class="line"><span class="lineno">  795</span>    QFile sensorFile(filename);</div>
<div class="line"><span class="lineno">  796</span>    <span class="keywordflow">if</span> (sensorFile.open(QIODevice::WriteOnly)) {</div>
<div class="line"><span class="lineno">  797</span>        QJsonDocument sensorDoc = QJsonDocument::fromVariant(parsed);</div>
<div class="line"><span class="lineno">  798</span>        sensorFile.write(sensorDoc.toJson());</div>
<div class="line"><span class="lineno">  799</span>        sensorFile.close();</div>
<div class="line"><span class="lineno">  800</span>        qDebug() &lt;&lt; <span class="stringliteral">&quot;💾 Zapisano dane pomiarowe dla czujnika&quot;</span> &lt;&lt; sensorId;</div>
<div class="line"><span class="lineno">  801</span>    }</div>
<div class="line"><span class="lineno">  802</span> </div>
<div class="line"><span class="lineno">  803</span>    <span class="comment">// Aktualizuj wartości w liście czujników</span></div>
<div class="line"><span class="lineno">  804</span>    <span class="keywordtype">bool</span> updated = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  805</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code hl_variable" href="#a92bf654c17191fc98ea2531558cf877d">m_sensors</a>.size(); ++i) {</div>
<div class="line"><span class="lineno">  806</span>        QVariantMap sensor = <a class="code hl_variable" href="#a92bf654c17191fc98ea2531558cf877d">m_sensors</a>[i].toMap();</div>
<div class="line"><span class="lineno">  807</span>        <span class="keywordflow">if</span> (sensor[<span class="stringliteral">&quot;id&quot;</span>].toInt() == sensorId) {</div>
<div class="line"><span class="lineno">  808</span>            <span class="keywordflow">if</span> (latestValue &gt;= 0) {</div>
<div class="line"><span class="lineno">  809</span>                sensor[<span class="stringliteral">&quot;lastValue&quot;</span>] = QVariant(latestValue);</div>
<div class="line"><span class="lineno">  810</span>                sensor[<span class="stringliteral">&quot;lastDate&quot;</span>] = latestDate;</div>
<div class="line"><span class="lineno">  811</span>            } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  812</span>                sensor[<span class="stringliteral">&quot;lastValue&quot;</span>] = QVariant(QString(<span class="stringliteral">&quot;Brak danych&quot;</span>));</div>
<div class="line"><span class="lineno">  813</span>                sensor[<span class="stringliteral">&quot;lastDate&quot;</span>] = QVariant(QString(<span class="stringliteral">&quot;&quot;</span>));</div>
<div class="line"><span class="lineno">  814</span>            }</div>
<div class="line"><span class="lineno">  815</span>            <a class="code hl_variable" href="#a92bf654c17191fc98ea2531558cf877d">m_sensors</a>[i] = sensor;</div>
<div class="line"><span class="lineno">  816</span>            updated = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  817</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  818</span>        }</div>
<div class="line"><span class="lineno">  819</span>    }</div>
<div class="line"><span class="lineno">  820</span> </div>
<div class="line"><span class="lineno">  821</span>    <span class="keywordflow">if</span> (updated) {</div>
<div class="line"><span class="lineno">  822</span>        emit <a class="code hl_signal" href="#a91c4b769235bc0aafc20ad7b2fb2a1e3">sensorsChanged</a>();</div>
<div class="line"><span class="lineno">  823</span> </div>
<div class="line"><span class="lineno">  824</span>        <span class="comment">// Aktualizuj dane w pliku głównym</span></div>
<div class="line"><span class="lineno">  825</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="#a0ab136ba16cc1dfddea1f5f4e97ca4b0">m_selectedStation</a>.isEmpty()) {</div>
<div class="line"><span class="lineno">  826</span>            <span class="keywordtype">int</span> stationId = <a class="code hl_variable" href="#a0ab136ba16cc1dfddea1f5f4e97ca4b0">m_selectedStation</a>[<span class="stringliteral">&quot;stationId&quot;</span>].toInt();</div>
<div class="line"><span class="lineno">  827</span>            QString stationIdStr = QString::number(stationId);</div>
<div class="line"><span class="lineno">  828</span> </div>
<div class="line"><span class="lineno">  829</span>            QFile dataFile(<span class="stringliteral">&quot;data/data.json&quot;</span>);</div>
<div class="line"><span class="lineno">  830</span>            QVariantMap fullData;</div>
<div class="line"><span class="lineno">  831</span> </div>
<div class="line"><span class="lineno">  832</span>            <span class="comment">// Wczytaj istniejące dane</span></div>
<div class="line"><span class="lineno">  833</span>            <span class="keywordflow">if</span> (dataFile.exists() &amp;&amp; dataFile.open(QIODevice::ReadOnly)) {</div>
<div class="line"><span class="lineno">  834</span>                QJsonDocument existingDoc = QJsonDocument::fromJson(dataFile.readAll());</div>
<div class="line"><span class="lineno">  835</span>                dataFile.close();</div>
<div class="line"><span class="lineno">  836</span>                fullData = existingDoc.toVariant().toMap();</div>
<div class="line"><span class="lineno">  837</span> </div>
<div class="line"><span class="lineno">  838</span>                <span class="comment">// Aktualizuj dane czujników</span></div>
<div class="line"><span class="lineno">  839</span>                <span class="keywordflow">if</span> (fullData.contains(<span class="stringliteral">&quot;sensors&quot;</span>)) {</div>
<div class="line"><span class="lineno">  840</span>                    QVariantMap sensorsMap = fullData[<span class="stringliteral">&quot;sensors&quot;</span>].toMap();</div>
<div class="line"><span class="lineno">  841</span>                    sensorsMap[stationIdStr] = <a class="code hl_variable" href="#a92bf654c17191fc98ea2531558cf877d">m_sensors</a>;</div>
<div class="line"><span class="lineno">  842</span>                    fullData[<span class="stringliteral">&quot;sensors&quot;</span>] = sensorsMap;</div>
<div class="line"><span class="lineno">  843</span> </div>
<div class="line"><span class="lineno">  844</span>                    <span class="comment">// Zapisz zaktualizowane dane</span></div>
<div class="line"><span class="lineno">  845</span>                    <span class="keywordflow">if</span> (dataFile.open(QIODevice::WriteOnly)) {</div>
<div class="line"><span class="lineno">  846</span>                        QJsonDocument saveDoc = QJsonDocument::fromVariant(fullData);</div>
<div class="line"><span class="lineno">  847</span>                        dataFile.write(saveDoc.toJson());</div>
<div class="line"><span class="lineno">  848</span>                        dataFile.close();</div>
<div class="line"><span class="lineno">  849</span>                        qDebug() &lt;&lt; <span class="stringliteral">&quot;💾 Zaktualizowano dane czujnika w pliku głównym&quot;</span>;</div>
<div class="line"><span class="lineno">  850</span>                    }</div>
<div class="line"><span class="lineno">  851</span>                }</div>
<div class="line"><span class="lineno">  852</span>            }</div>
<div class="line"><span class="lineno">  853</span>        }</div>
<div class="line"><span class="lineno">  854</span>    }</div>
<div class="line"><span class="lineno">  855</span> </div>
<div class="line"><span class="lineno">  856</span>    <span class="comment">// Jeśli jesteśmy w widoku wykresu dla tego czujnika</span></div>
<div class="line"><span class="lineno">  857</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="#a37444fda0cbae2fddae3d53ffb4c525d">m_chartViewVisible</a> &amp;&amp; <a class="code hl_variable" href="#a597211ebd3205c040e239b20b4ac6a1b">m_selectedSensor</a>[<span class="stringliteral">&quot;id&quot;</span>].toInt() == sensorId) {</div>
<div class="line"><span class="lineno">  858</span>        <a class="code hl_variable" href="#a57118789654284026f99a38f9748efa1">m_sensorMeasurements</a> = parsed;</div>
<div class="line"><span class="lineno">  859</span>        emit <a class="code hl_signal" href="#a95811818c6bbba9387599028cd2a4b42">sensorMeasurementsChanged</a>();</div>
<div class="line"><span class="lineno">  860</span>        <a class="code hl_variable" href="#a129aa70bf893c18f9a8e802732110906">m_status</a> = <span class="stringliteral">&quot;📊 Wykres dla &quot;</span> + <a class="code hl_variable" href="#a597211ebd3205c040e239b20b4ac6a1b">m_selectedSensor</a>[<span class="stringliteral">&quot;paramName&quot;</span>].toString();</div>
<div class="line"><span class="lineno">  861</span>        emit <a class="code hl_signal" href="#af63d0bdd203b1b2d04bb90c96493f617">statusChanged</a>();</div>
<div class="line"><span class="lineno">  862</span>    }</div>
<div class="line"><span class="lineno">  863</span>}</div>
<div class="ttc" id="aclass_main_window_html_a57118789654284026f99a38f9748efa1"><div class="ttname"><a href="#a57118789654284026f99a38f9748efa1">MainWindow::m_sensorMeasurements</a></div><div class="ttdeci">QVariantList m_sensorMeasurements</div><div class="ttdef"><b>Definition</b> <a href="mainwindow_8h_source.html#l00069">mainwindow.h:69</a></div></div>
<div class="ttc" id="aclass_main_window_html_a95811818c6bbba9387599028cd2a4b42"><div class="ttname"><a href="#a95811818c6bbba9387599028cd2a4b42">MainWindow::sensorMeasurementsChanged</a></div><div class="ttdeci">void sensorMeasurementsChanged()</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5538713341b186b45b3c88e395dadac5" name="a5538713341b186b45b3c88e395dadac5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5538713341b186b45b3c88e395dadac5">&#9670;&#160;</a></span>handleSensorsReply()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MainWindow::handleSensorsReply </td>
          <td>(</td>
          <td class="paramtype">const QJsonDocument &amp;</td>          <td class="paramname"><span class="paramname"><em>doc</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mainwindow_8cpp_source.html#l00625">625</a> of file <a class="el" href="mainwindow_8cpp_source.html">mainwindow.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  625</span>                                                            {</div>
<div class="line"><span class="lineno">  626</span>    QJsonArray arr = doc.array();</div>
<div class="line"><span class="lineno">  627</span>    <a class="code hl_variable" href="#a92bf654c17191fc98ea2531558cf877d">m_sensors</a>.clear();</div>
<div class="line"><span class="lineno">  628</span> </div>
<div class="line"><span class="lineno">  629</span>    <span class="comment">// Upewnij się, że mamy wybraną stację</span></div>
<div class="line"><span class="lineno">  630</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="#a0ab136ba16cc1dfddea1f5f4e97ca4b0">m_selectedStation</a>.isEmpty()) {</div>
<div class="line"><span class="lineno">  631</span>        qWarning() &lt;&lt; <span class="stringliteral">&quot;❗ Brak wybranej stacji przy obsłudze czujników&quot;</span>;</div>
<div class="line"><span class="lineno">  632</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  633</span>    }</div>
<div class="line"><span class="lineno">  634</span> </div>
<div class="line"><span class="lineno">  635</span>    <span class="keywordtype">int</span> stationId = <a class="code hl_variable" href="#a0ab136ba16cc1dfddea1f5f4e97ca4b0">m_selectedStation</a>[<span class="stringliteral">&quot;stationId&quot;</span>].toInt();</div>
<div class="line"><span class="lineno">  636</span>    QString stationIdStr = QString::number(stationId);</div>
<div class="line"><span class="lineno">  637</span>    qDebug() &lt;&lt; <span class="stringliteral">&quot;Otrzymano dane czujników dla stacji ID:&quot;</span> &lt;&lt; stationIdStr;</div>
<div class="line"><span class="lineno">  638</span> </div>
<div class="line"><span class="lineno">  639</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> QJsonValue &amp;val : arr) {</div>
<div class="line"><span class="lineno">  640</span>        QJsonObject obj = val.toObject();</div>
<div class="line"><span class="lineno">  641</span>        QVariantMap s;</div>
<div class="line"><span class="lineno">  642</span>        s[<span class="stringliteral">&quot;id&quot;</span>] = obj[<span class="stringliteral">&quot;id&quot;</span>].toInt();</div>
<div class="line"><span class="lineno">  643</span>        s[<span class="stringliteral">&quot;stationId&quot;</span>] = obj[<span class="stringliteral">&quot;stationId&quot;</span>].toInt();</div>
<div class="line"><span class="lineno">  644</span>        s[<span class="stringliteral">&quot;paramName&quot;</span>] = obj[<span class="stringliteral">&quot;param&quot;</span>].toObject()[<span class="stringliteral">&quot;paramName&quot;</span>].toString();</div>
<div class="line"><span class="lineno">  645</span>        s[<span class="stringliteral">&quot;paramCode&quot;</span>] = obj[<span class="stringliteral">&quot;param&quot;</span>].toObject()[<span class="stringliteral">&quot;paramCode&quot;</span>].toString();</div>
<div class="line"><span class="lineno">  646</span>        s[<span class="stringliteral">&quot;paramFormula&quot;</span>] = obj[<span class="stringliteral">&quot;param&quot;</span>].toObject()[<span class="stringliteral">&quot;paramFormula&quot;</span>].toString();</div>
<div class="line"><span class="lineno">  647</span>        s[<span class="stringliteral">&quot;lastValue&quot;</span>] = QVariant(QString(<span class="stringliteral">&quot;Ładowanie...&quot;</span>));</div>
<div class="line"><span class="lineno">  648</span>        <a class="code hl_variable" href="#a92bf654c17191fc98ea2531558cf877d">m_sensors</a>.append(s);</div>
<div class="line"><span class="lineno">  649</span> </div>
<div class="line"><span class="lineno">  650</span>        <span class="comment">// Pobierz dane dla każdego czujnika</span></div>
<div class="line"><span class="lineno">  651</span>        <a class="code hl_variable" href="#a7cc5248d2dc440404469679d749ddbe7">m_networkManager</a>-&gt;get(QNetworkRequest(QUrl(<span class="stringliteral">&quot;https://api.gios.gov.pl/pjp-api/rest/data/getData/&quot;</span> + QString::number(s[<span class="stringliteral">&quot;id&quot;</span>].toInt()))));</div>
<div class="line"><span class="lineno">  652</span>    }</div>
<div class="line"><span class="lineno">  653</span> </div>
<div class="line"><span class="lineno">  654</span>    <a class="code hl_variable" href="#aaa9840f4efbb607c7d95a8d7db2e71b1">m_sensorViewVisible</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  655</span>    emit <a class="code hl_signal" href="#a91c4b769235bc0aafc20ad7b2fb2a1e3">sensorsChanged</a>();</div>
<div class="line"><span class="lineno">  656</span>    emit <a class="code hl_signal" href="#aff62f1b26fca3dc2abceebc8e6827d4b">sensorViewVisibleChanged</a>();</div>
<div class="line"><span class="lineno">  657</span> </div>
<div class="line"><span class="lineno">  658</span>    <a class="code hl_variable" href="#a129aa70bf893c18f9a8e802732110906">m_status</a> = <span class="stringliteral">&quot;📋 Czujniki stacji &quot;</span> + <a class="code hl_variable" href="#a0ab136ba16cc1dfddea1f5f4e97ca4b0">m_selectedStation</a>[<span class="stringliteral">&quot;stationName&quot;</span>].toString();</div>
<div class="line"><span class="lineno">  659</span>    emit <a class="code hl_signal" href="#af63d0bdd203b1b2d04bb90c96493f617">statusChanged</a>();</div>
<div class="line"><span class="lineno">  660</span> </div>
<div class="line"><span class="lineno">  661</span>    <span class="comment">// Zapisz dane czujników do pliku</span></div>
<div class="line"><span class="lineno">  662</span>    QFile dataFile(<span class="stringliteral">&quot;data/data.json&quot;</span>);</div>
<div class="line"><span class="lineno">  663</span>    QVariantMap fullData;</div>
<div class="line"><span class="lineno">  664</span> </div>
<div class="line"><span class="lineno">  665</span>    <span class="comment">// Wczytaj istniejące dane, jeśli plik istnieje</span></div>
<div class="line"><span class="lineno">  666</span>    <span class="keywordflow">if</span> (dataFile.exists() &amp;&amp; dataFile.open(QIODevice::ReadOnly)) {</div>
<div class="line"><span class="lineno">  667</span>        QJsonDocument existingDoc = QJsonDocument::fromJson(dataFile.readAll());</div>
<div class="line"><span class="lineno">  668</span>        dataFile.close();</div>
<div class="line"><span class="lineno">  669</span>        fullData = existingDoc.toVariant().toMap();</div>
<div class="line"><span class="lineno">  670</span>    }</div>
<div class="line"><span class="lineno">  671</span> </div>
<div class="line"><span class="lineno">  672</span>    <span class="comment">// Dodaj dane stacji, jeśli ich nie ma</span></div>
<div class="line"><span class="lineno">  673</span>    <span class="keywordflow">if</span> (!fullData.contains(<span class="stringliteral">&quot;stations&quot;</span>)) {</div>
<div class="line"><span class="lineno">  674</span>        fullData[<span class="stringliteral">&quot;stations&quot;</span>] = <a class="code hl_variable" href="#ab5328eb2844190cc939f27c78aa8f6f9">m_allStations</a>;</div>
<div class="line"><span class="lineno">  675</span>    }</div>
<div class="line"><span class="lineno">  676</span> </div>
<div class="line"><span class="lineno">  677</span>    <span class="comment">// Dodaj/aktualizuj sensory dla konkretnej stacji</span></div>
<div class="line"><span class="lineno">  678</span>    <span class="keywordflow">if</span> (!fullData.contains(<span class="stringliteral">&quot;sensors&quot;</span>)) {</div>
<div class="line"><span class="lineno">  679</span>        fullData[<span class="stringliteral">&quot;sensors&quot;</span>] = QVariantMap();</div>
<div class="line"><span class="lineno">  680</span>    }</div>
<div class="line"><span class="lineno">  681</span> </div>
<div class="line"><span class="lineno">  682</span>    QVariantMap sensorsMap = fullData[<span class="stringliteral">&quot;sensors&quot;</span>].toMap();</div>
<div class="line"><span class="lineno">  683</span>    sensorsMap[stationIdStr] = <a class="code hl_variable" href="#a92bf654c17191fc98ea2531558cf877d">m_sensors</a>;  <span class="comment">// Klucz to ID stacji</span></div>
<div class="line"><span class="lineno">  684</span>    fullData[<span class="stringliteral">&quot;sensors&quot;</span>] = sensorsMap;</div>
<div class="line"><span class="lineno">  685</span> </div>
<div class="line"><span class="lineno">  686</span>    <span class="comment">// Aktualizuj timestamp</span></div>
<div class="line"><span class="lineno">  687</span>    fullData[<span class="stringliteral">&quot;timestamp&quot;</span>] = QDateTime::currentDateTime().toString(Qt::ISODate);</div>
<div class="line"><span class="lineno">  688</span> </div>
<div class="line"><span class="lineno">  689</span>    <span class="comment">// Zapisz dane</span></div>
<div class="line"><span class="lineno">  690</span>    <span class="keywordflow">if</span> (dataFile.open(QIODevice::WriteOnly)) {</div>
<div class="line"><span class="lineno">  691</span>        QJsonDocument saveDoc = QJsonDocument::fromVariant(fullData);</div>
<div class="line"><span class="lineno">  692</span>        dataFile.write(saveDoc.toJson());</div>
<div class="line"><span class="lineno">  693</span>        dataFile.close();</div>
<div class="line"><span class="lineno">  694</span>        qDebug() &lt;&lt; <span class="stringliteral">&quot;💾 Zapisano czujniki dla stacji&quot;</span> &lt;&lt; stationIdStr;</div>
<div class="line"><span class="lineno">  695</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  696</span>        qWarning() &lt;&lt; <span class="stringliteral">&quot;❗ Nie można zapisać danych do pliku&quot;</span>;</div>
<div class="line"><span class="lineno">  697</span>    }</div>
<div class="line"><span class="lineno">  698</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ac8f3d842ed4ec6d050f7bd42ac94cb69" name="ac8f3d842ed4ec6d050f7bd42ac94cb69"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8f3d842ed4ec6d050f7bd42ac94cb69">&#9670;&#160;</a></span>handleStationsReply()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MainWindow::handleStationsReply </td>
          <td>(</td>
          <td class="paramtype">const QJsonDocument &amp;</td>          <td class="paramname"><span class="paramname"><em>doc</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mainwindow_8cpp_source.html#l00558">558</a> of file <a class="el" href="mainwindow_8cpp_source.html">mainwindow.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  558</span>                                                             {</div>
<div class="line"><span class="lineno">  559</span>    QJsonArray arr = doc.array();</div>
<div class="line"><span class="lineno">  560</span>    <a class="code hl_variable" href="#ab5328eb2844190cc939f27c78aa8f6f9">m_allStations</a>.clear();</div>
<div class="line"><span class="lineno">  561</span> </div>
<div class="line"><span class="lineno">  562</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> QJsonValue &amp;val : arr) {</div>
<div class="line"><span class="lineno">  563</span>        QJsonObject obj = val.toObject();</div>
<div class="line"><span class="lineno">  564</span>        QVariantMap s;</div>
<div class="line"><span class="lineno">  565</span>        s[<span class="stringliteral">&quot;stationId&quot;</span>] = obj[<span class="stringliteral">&quot;id&quot;</span>].toInt();</div>
<div class="line"><span class="lineno">  566</span>        s[<span class="stringliteral">&quot;stationName&quot;</span>] = obj[<span class="stringliteral">&quot;stationName&quot;</span>].toString();</div>
<div class="line"><span class="lineno">  567</span>        s[<span class="stringliteral">&quot;lat&quot;</span>] = obj[<span class="stringliteral">&quot;gegrLat&quot;</span>].toString();</div>
<div class="line"><span class="lineno">  568</span>        s[<span class="stringliteral">&quot;lon&quot;</span>] = obj[<span class="stringliteral">&quot;gegrLon&quot;</span>].toString();</div>
<div class="line"><span class="lineno">  569</span> </div>
<div class="line"><span class="lineno">  570</span>        <span class="keywordflow">if</span> (obj.contains(<span class="stringliteral">&quot;city&quot;</span>) &amp;&amp; obj[<span class="stringliteral">&quot;city&quot;</span>].isObject()) {</div>
<div class="line"><span class="lineno">  571</span>            QJsonObject city = obj[<span class="stringliteral">&quot;city&quot;</span>].toObject();</div>
<div class="line"><span class="lineno">  572</span>            s[<span class="stringliteral">&quot;city&quot;</span>] = city[<span class="stringliteral">&quot;name&quot;</span>].toString();</div>
<div class="line"><span class="lineno">  573</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  574</span>            s[<span class="stringliteral">&quot;city&quot;</span>] = <span class="stringliteral">&quot;Nieznane miasto&quot;</span>;</div>
<div class="line"><span class="lineno">  575</span>        }</div>
<div class="line"><span class="lineno">  576</span> </div>
<div class="line"><span class="lineno">  577</span>        s[<span class="stringliteral">&quot;address&quot;</span>] = obj[<span class="stringliteral">&quot;addressStreet&quot;</span>].toString();</div>
<div class="line"><span class="lineno">  578</span>        <a class="code hl_variable" href="#ab5328eb2844190cc939f27c78aa8f6f9">m_allStations</a>.append(s);</div>
<div class="line"><span class="lineno">  579</span>    }</div>
<div class="line"><span class="lineno">  580</span> </div>
<div class="line"><span class="lineno">  581</span>    <a class="code hl_variable" href="#a3dfc1fa389fd999243084db2f6284eb5">m_filteredStations</a> = <a class="code hl_variable" href="#ab5328eb2844190cc939f27c78aa8f6f9">m_allStations</a>;</div>
<div class="line"><span class="lineno">  582</span>    emit <a class="code hl_signal" href="#ad6d230c53c3628833a80896fa729c06a">stationsChanged</a>();</div>
<div class="line"><span class="lineno">  583</span> </div>
<div class="line"><span class="lineno">  584</span>    <a class="code hl_variable" href="#a129aa70bf893c18f9a8e802732110906">m_status</a> = <span class="stringliteral">&quot;✅ Załadowano &quot;</span> + QString::number(<a class="code hl_variable" href="#ab5328eb2844190cc939f27c78aa8f6f9">m_allStations</a>.size()) + <span class="stringliteral">&quot; stacji pomiarowych&quot;</span>;</div>
<div class="line"><span class="lineno">  585</span>    emit <a class="code hl_signal" href="#af63d0bdd203b1b2d04bb90c96493f617">statusChanged</a>();</div>
<div class="line"><span class="lineno">  586</span> </div>
<div class="line"><span class="lineno">  587</span>    <span class="comment">// Odczytaj istniejące dane z pliku</span></div>
<div class="line"><span class="lineno">  588</span>    QVariantMap fullData;</div>
<div class="line"><span class="lineno">  589</span>    QFile file(<span class="stringliteral">&quot;data/data.json&quot;</span>);</div>
<div class="line"><span class="lineno">  590</span> </div>
<div class="line"><span class="lineno">  591</span>    <span class="keywordflow">if</span> (file.exists() &amp;&amp; file.open(QIODevice::ReadOnly)) {</div>
<div class="line"><span class="lineno">  592</span>        QJsonDocument existingDoc = QJsonDocument::fromJson(file.readAll());</div>
<div class="line"><span class="lineno">  593</span>        file.close();</div>
<div class="line"><span class="lineno">  594</span> </div>
<div class="line"><span class="lineno">  595</span>        <span class="keywordflow">if</span> (!existingDoc.isNull() &amp;&amp; !existingDoc.isEmpty()) {</div>
<div class="line"><span class="lineno">  596</span>            fullData = existingDoc.toVariant().toMap();</div>
<div class="line"><span class="lineno">  597</span>            qDebug() &lt;&lt; <span class="stringliteral">&quot;Odczytano istniejące dane z pliku, znaleziono klucze:&quot;</span> &lt;&lt; fullData.keys();</div>
<div class="line"><span class="lineno">  598</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  599</span>            qDebug() &lt;&lt; <span class="stringliteral">&quot;Plik istnieje, ale jest pusty lub uszkodzony&quot;</span>;</div>
<div class="line"><span class="lineno">  600</span>        }</div>
<div class="line"><span class="lineno">  601</span>    }</div>
<div class="line"><span class="lineno">  602</span> </div>
<div class="line"><span class="lineno">  603</span>    <span class="comment">// Aktualizuj tylko sekcję stacji</span></div>
<div class="line"><span class="lineno">  604</span>    fullData[<span class="stringliteral">&quot;stations&quot;</span>] = <a class="code hl_variable" href="#ab5328eb2844190cc939f27c78aa8f6f9">m_allStations</a>;</div>
<div class="line"><span class="lineno">  605</span>    fullData[<span class="stringliteral">&quot;timestamp&quot;</span>] = QDateTime::currentDateTime().toString(Qt::ISODate);</div>
<div class="line"><span class="lineno">  606</span> </div>
<div class="line"><span class="lineno">  607</span>    <span class="comment">// Zapisz zaktualizowane dane</span></div>
<div class="line"><span class="lineno">  608</span>    QDir().mkpath(<span class="stringliteral">&quot;data&quot;</span>);</div>
<div class="line"><span class="lineno">  609</span>    <span class="keywordflow">if</span> (file.open(QIODevice::WriteOnly)) {</div>
<div class="line"><span class="lineno">  610</span>        QJsonDocument saveDoc = QJsonDocument::fromVariant(fullData);</div>
<div class="line"><span class="lineno">  611</span>        file.write(saveDoc.toJson());</div>
<div class="line"><span class="lineno">  612</span>        file.close();</div>
<div class="line"><span class="lineno">  613</span>        qDebug() &lt;&lt; <span class="stringliteral">&quot;💾 Zapisano&quot;</span> &lt;&lt; <a class="code hl_variable" href="#ab5328eb2844190cc939f27c78aa8f6f9">m_allStations</a>.size() &lt;&lt; <span class="stringliteral">&quot;stacji do pliku&quot;</span>;</div>
<div class="line"><span class="lineno">  614</span> </div>
<div class="line"><span class="lineno">  615</span>        <span class="comment">// Wykonaj diagnostykę pliku po zapisie</span></div>
<div class="line"><span class="lineno">  616</span>        <a class="code hl_function" href="#a04bb3d38411c1358b61c5fbe0ff80ead">debugJsonFile</a>();</div>
<div class="line"><span class="lineno">  617</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  618</span>        qWarning() &lt;&lt; <span class="stringliteral">&quot;❗ Nie można zapisać danych do pliku:&quot;</span> &lt;&lt; file.errorString();</div>
<div class="line"><span class="lineno">  619</span>    }</div>
<div class="line"><span class="lineno">  620</span> </div>
<div class="line"><span class="lineno">  621</span>    <a class="code hl_variable" href="#a19c5ccae9a75cd75997a591bf753fe3f">m_lastUpdate</a> = QDateTime::currentDateTime().toString(Qt::ISODate);</div>
<div class="line"><span class="lineno">  622</span>    emit <a class="code hl_signal" href="#a9f773b53838914b4aebce97693344381">lastUpdateChanged</a>();</div>
<div class="line"><span class="lineno">  623</span>}</div>
<div class="ttc" id="aclass_main_window_html_a19c5ccae9a75cd75997a591bf753fe3f"><div class="ttname"><a href="#a19c5ccae9a75cd75997a591bf753fe3f">MainWindow::m_lastUpdate</a></div><div class="ttdeci">QString m_lastUpdate</div><div class="ttdef"><b>Definition</b> <a href="mainwindow_8h_source.html#l00075">mainwindow.h:75</a></div></div>
<div class="ttc" id="aclass_main_window_html_a9f773b53838914b4aebce97693344381"><div class="ttname"><a href="#a9f773b53838914b4aebce97693344381">MainWindow::lastUpdateChanged</a></div><div class="ttdeci">void lastUpdateChanged()</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4792f37f6120fd4506ae39c4bdae5cd0" name="a4792f37f6120fd4506ae39c4bdae5cd0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4792f37f6120fd4506ae39c4bdae5cd0">&#9670;&#160;</a></span>isOnline()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool MainWindow::isOnline </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mainwindow_8cpp_source.html#l00054">54</a> of file <a class="el" href="mainwindow_8cpp_source.html">mainwindow.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   54</span>                          {</div>
<div class="line"><span class="lineno">   55</span>    <span class="comment">// Sprawdź dwa różne adresy aby zwiększyć niezawodność detekcji</span></div>
<div class="line"><span class="lineno">   56</span>    QUrl url1(<span class="stringliteral">&quot;https://api.gios.gov.pl/pjp-api/rest/station/findAll&quot;</span>);</div>
<div class="line"><span class="lineno">   57</span>    QUrl url2(<span class="stringliteral">&quot;https://www.google.com&quot;</span>);</div>
<div class="line"><span class="lineno">   58</span> </div>
<div class="line"><span class="lineno">   59</span>    <span class="comment">// Najpierw sprawdź główne API</span></div>
<div class="line"><span class="lineno">   60</span>    QNetworkRequest request1(url1);</div>
<div class="line"><span class="lineno">   61</span>    QNetworkReply *reply1 = <a class="code hl_variable" href="#a7cc5248d2dc440404469679d749ddbe7">m_networkManager</a>-&gt;get(request1);</div>
<div class="line"><span class="lineno">   62</span>    QEventLoop loop1;</div>
<div class="line"><span class="lineno">   63</span>    QTimer timer1;</div>
<div class="line"><span class="lineno">   64</span>    timer1.setSingleShot(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">   65</span>    connect(reply1, &amp;QNetworkReply::finished, &amp;loop1, &amp;QEventLoop::quit);</div>
<div class="line"><span class="lineno">   66</span>    connect(&amp;timer1, &amp;QTimer::timeout, &amp;loop1, &amp;QEventLoop::quit);</div>
<div class="line"><span class="lineno">   67</span>    timer1.start(2000); <span class="comment">// Krótszy timeout - 2 sekundy</span></div>
<div class="line"><span class="lineno">   68</span>    loop1.exec();</div>
<div class="line"><span class="lineno">   69</span> </div>
<div class="line"><span class="lineno">   70</span>    <span class="keywordtype">bool</span> apiOk = reply1-&gt;error() == QNetworkReply::NoError &amp;&amp; timer1.isActive();</div>
<div class="line"><span class="lineno">   71</span>    reply1-&gt;deleteLater();</div>
<div class="line"><span class="lineno">   72</span> </div>
<div class="line"><span class="lineno">   73</span>    <span class="comment">// Jeśli główne API działa, to mamy połączenie</span></div>
<div class="line"><span class="lineno">   74</span>    <span class="keywordflow">if</span> (apiOk) {</div>
<div class="line"><span class="lineno">   75</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">   76</span>    }</div>
<div class="line"><span class="lineno">   77</span> </div>
<div class="line"><span class="lineno">   78</span>    <span class="comment">// Jeśli główne API nie działa, sprawdź backup</span></div>
<div class="line"><span class="lineno">   79</span>    QNetworkRequest request2(url2);</div>
<div class="line"><span class="lineno">   80</span>    QNetworkReply *reply2 = <a class="code hl_variable" href="#a7cc5248d2dc440404469679d749ddbe7">m_networkManager</a>-&gt;get(request2);</div>
<div class="line"><span class="lineno">   81</span>    QEventLoop loop2;</div>
<div class="line"><span class="lineno">   82</span>    QTimer timer2;</div>
<div class="line"><span class="lineno">   83</span>    timer2.setSingleShot(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">   84</span>    connect(reply2, &amp;QNetworkReply::finished, &amp;loop2, &amp;QEventLoop::quit);</div>
<div class="line"><span class="lineno">   85</span>    connect(&amp;timer2, &amp;QTimer::timeout, &amp;loop2, &amp;QEventLoop::quit);</div>
<div class="line"><span class="lineno">   86</span>    timer2.start(2000); <span class="comment">// Krótszy timeout</span></div>
<div class="line"><span class="lineno">   87</span>    loop2.exec();</div>
<div class="line"><span class="lineno">   88</span> </div>
<div class="line"><span class="lineno">   89</span>    <span class="keywordtype">bool</span> backupOk = reply2-&gt;error() == QNetworkReply::NoError &amp;&amp; timer2.isActive();</div>
<div class="line"><span class="lineno">   90</span>    reply2-&gt;deleteLater();</div>
<div class="line"><span class="lineno">   91</span> </div>
<div class="line"><span class="lineno">   92</span>    <span class="comment">// Jeśli chociaż jeden serwer odpowiada, to uznajemy że jest internet</span></div>
<div class="line"><span class="lineno">   93</span>    <span class="keywordflow">return</span> apiOk || backupOk;</div>
<div class="line"><span class="lineno">   94</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a3efba5c09dcecf797b317b4de1d5da93" name="a3efba5c09dcecf797b317b4de1d5da93"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3efba5c09dcecf797b317b4de1d5da93">&#9670;&#160;</a></span>lastUpdate()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QString MainWindow::lastUpdate </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mainwindow_8h_source.html#l00100">100</a> of file <a class="el" href="mainwindow_8h_source.html">mainwindow.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  100</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="#a19c5ccae9a75cd75997a591bf753fe3f">m_lastUpdate</a>; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a9f773b53838914b4aebce97693344381" name="a9f773b53838914b4aebce97693344381"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f773b53838914b4aebce97693344381">&#9670;&#160;</a></span>lastUpdateChanged</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MainWindow::lastUpdateChanged </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel signal">signal</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a6e3b2ef723312e0d92eef9de94ec0eb2" name="a6e3b2ef723312e0d92eef9de94ec0eb2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e3b2ef723312e0d92eef9de94ec0eb2">&#9670;&#160;</a></span>loadDataFromFile()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MainWindow::loadDataFromFile </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mainwindow_8cpp_source.html#l00156">156</a> of file <a class="el" href="mainwindow_8cpp_source.html">mainwindow.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  156</span>                                  {</div>
<div class="line"><span class="lineno">  157</span>    qDebug() &lt;&lt; <span class="stringliteral">&quot;-------------------------------------------------------------------------&quot;</span>;</div>
<div class="line"><span class="lineno">  158</span>    qDebug() &lt;&lt; <span class="stringliteral">&quot;Wczytywanie danych z pliku lokalnego&quot;</span>;</div>
<div class="line"><span class="lineno">  159</span> </div>
<div class="line"><span class="lineno">  160</span>    <span class="comment">// Najpierw zdiagnozuj plik</span></div>
<div class="line"><span class="lineno">  161</span>    <a class="code hl_function" href="#a04bb3d38411c1358b61c5fbe0ff80ead">debugJsonFile</a>();</div>
<div class="line"><span class="lineno">  162</span> </div>
<div class="line"><span class="lineno">  163</span>    QFile file(<span class="stringliteral">&quot;data/data.json&quot;</span>);</div>
<div class="line"><span class="lineno">  164</span>    <span class="keywordflow">if</span> (!file.exists()) {</div>
<div class="line"><span class="lineno">  165</span>        qWarning() &lt;&lt; <span class="stringliteral">&quot;⚠️ Plik data.json nie istnieje!&quot;</span>;</div>
<div class="line"><span class="lineno">  166</span>        <a class="code hl_variable" href="#a129aa70bf893c18f9a8e802732110906">m_status</a> = <span class="stringliteral">&quot;⚠️ Brak zapisanych danych lokalnych&quot;</span>;</div>
<div class="line"><span class="lineno">  167</span>        emit <a class="code hl_signal" href="#af63d0bdd203b1b2d04bb90c96493f617">statusChanged</a>();</div>
<div class="line"><span class="lineno">  168</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  169</span>    }</div>
<div class="line"><span class="lineno">  170</span> </div>
<div class="line"><span class="lineno">  171</span>    <span class="keywordflow">if</span> (!file.open(QIODevice::ReadOnly)) {</div>
<div class="line"><span class="lineno">  172</span>        qWarning() &lt;&lt; <span class="stringliteral">&quot;⚠️ Nie można otworzyć pliku data.json:&quot;</span> &lt;&lt; file.errorString();</div>
<div class="line"><span class="lineno">  173</span>        <a class="code hl_variable" href="#a129aa70bf893c18f9a8e802732110906">m_status</a> = <span class="stringliteral">&quot;⚠️ Brak dostępu do danych lokalnych&quot;</span>;</div>
<div class="line"><span class="lineno">  174</span>        emit <a class="code hl_signal" href="#af63d0bdd203b1b2d04bb90c96493f617">statusChanged</a>();</div>
<div class="line"><span class="lineno">  175</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  176</span>    }</div>
<div class="line"><span class="lineno">  177</span> </div>
<div class="line"><span class="lineno">  178</span>    QByteArray rawData = file.readAll();</div>
<div class="line"><span class="lineno">  179</span>    file.close();</div>
<div class="line"><span class="lineno">  180</span> </div>
<div class="line"><span class="lineno">  181</span>    <span class="keywordflow">if</span> (rawData.isEmpty()) {</div>
<div class="line"><span class="lineno">  182</span>        qWarning() &lt;&lt; <span class="stringliteral">&quot;⚠️ Plik data.json jest pusty!&quot;</span>;</div>
<div class="line"><span class="lineno">  183</span>        <a class="code hl_variable" href="#a129aa70bf893c18f9a8e802732110906">m_status</a> = <span class="stringliteral">&quot;⚠️ Plik danych jest pusty&quot;</span>;</div>
<div class="line"><span class="lineno">  184</span>        emit <a class="code hl_signal" href="#af63d0bdd203b1b2d04bb90c96493f617">statusChanged</a>();</div>
<div class="line"><span class="lineno">  185</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  186</span>    }</div>
<div class="line"><span class="lineno">  187</span> </div>
<div class="line"><span class="lineno">  188</span>    QJsonParseError error;</div>
<div class="line"><span class="lineno">  189</span>    QJsonDocument doc = QJsonDocument::fromJson(rawData, &amp;error);</div>
<div class="line"><span class="lineno">  190</span>    <span class="keywordflow">if</span> (error.error != QJsonParseError::NoError) {</div>
<div class="line"><span class="lineno">  191</span>        qWarning() &lt;&lt; <span class="stringliteral">&quot;⚠️ Błąd parsowania JSON:&quot;</span> &lt;&lt; error.errorString();</div>
<div class="line"><span class="lineno">  192</span>        <a class="code hl_variable" href="#a129aa70bf893c18f9a8e802732110906">m_status</a> = <span class="stringliteral">&quot;⚠️ Uszkodzone dane lokalne&quot;</span>;</div>
<div class="line"><span class="lineno">  193</span>        emit <a class="code hl_signal" href="#af63d0bdd203b1b2d04bb90c96493f617">statusChanged</a>();</div>
<div class="line"><span class="lineno">  194</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  195</span>    }</div>
<div class="line"><span class="lineno">  196</span> </div>
<div class="line"><span class="lineno">  197</span>    QVariantMap data = doc.toVariant().toMap();</div>
<div class="line"><span class="lineno">  198</span>    qDebug() &lt;&lt; <span class="stringliteral">&quot;Wczytano dane z pliku, znaleziono klucze:&quot;</span> &lt;&lt; data.keys();</div>
<div class="line"><span class="lineno">  199</span> </div>
<div class="line"><span class="lineno">  200</span>    <span class="comment">// Podstawowe dane stacji</span></div>
<div class="line"><span class="lineno">  201</span>    <span class="keywordflow">if</span> (data.contains(<span class="stringliteral">&quot;stations&quot;</span>)) {</div>
<div class="line"><span class="lineno">  202</span>        QVariant stationsData = data[<span class="stringliteral">&quot;stations&quot;</span>];</div>
<div class="line"><span class="lineno">  203</span> </div>
<div class="line"><span class="lineno">  204</span>        <span class="keywordflow">if</span> (stationsData.canConvert&lt;QVariantList&gt;()) {</div>
<div class="line"><span class="lineno">  205</span>            <a class="code hl_variable" href="#ab5328eb2844190cc939f27c78aa8f6f9">m_allStations</a> = stationsData.toList();</div>
<div class="line"><span class="lineno">  206</span>            <a class="code hl_variable" href="#a3dfc1fa389fd999243084db2f6284eb5">m_filteredStations</a> = <a class="code hl_variable" href="#ab5328eb2844190cc939f27c78aa8f6f9">m_allStations</a>;</div>
<div class="line"><span class="lineno">  207</span>            qDebug() &lt;&lt; <span class="stringliteral">&quot;✅ Wczytano&quot;</span> &lt;&lt; <a class="code hl_variable" href="#ab5328eb2844190cc939f27c78aa8f6f9">m_allStations</a>.size() &lt;&lt; <span class="stringliteral">&quot;stacji z pliku lokalnego&quot;</span>;</div>
<div class="line"><span class="lineno">  208</span>            emit <a class="code hl_signal" href="#ad6d230c53c3628833a80896fa729c06a">stationsChanged</a>();</div>
<div class="line"><span class="lineno">  209</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  210</span>            qWarning() &lt;&lt; <span class="stringliteral">&quot;⚠️ Dane stacji w pliku nie są listą!&quot;</span>;</div>
<div class="line"><span class="lineno">  211</span>        }</div>
<div class="line"><span class="lineno">  212</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  213</span>        qWarning() &lt;&lt; <span class="stringliteral">&quot;⚠️ Brak listy stacji w pliku lokalnym&quot;</span>;</div>
<div class="line"><span class="lineno">  214</span>    }</div>
<div class="line"><span class="lineno">  215</span> </div>
<div class="line"><span class="lineno">  216</span>    <span class="comment">// Czas ostatniej aktualizacji</span></div>
<div class="line"><span class="lineno">  217</span>    <span class="keywordflow">if</span> (data.contains(<span class="stringliteral">&quot;timestamp&quot;</span>)) {</div>
<div class="line"><span class="lineno">  218</span>        <a class="code hl_variable" href="#a19c5ccae9a75cd75997a591bf753fe3f">m_lastUpdate</a> = data[<span class="stringliteral">&quot;timestamp&quot;</span>].toString();</div>
<div class="line"><span class="lineno">  219</span>        emit <a class="code hl_signal" href="#a9f773b53838914b4aebce97693344381">lastUpdateChanged</a>();</div>
<div class="line"><span class="lineno">  220</span>    }</div>
<div class="line"><span class="lineno">  221</span> </div>
<div class="line"><span class="lineno">  222</span>    <span class="comment">// Status</span></div>
<div class="line"><span class="lineno">  223</span>    <a class="code hl_variable" href="#a129aa70bf893c18f9a8e802732110906">m_status</a> = <span class="stringliteral">&quot;📋 Dane z pamięci lokalnej (&quot;</span> + QDateTime::currentDateTime().toString(<span class="stringliteral">&quot;HH:mm:ss&quot;</span>) + <span class="stringliteral">&quot;)&quot;</span>;</div>
<div class="line"><span class="lineno">  224</span>    emit <a class="code hl_signal" href="#af63d0bdd203b1b2d04bb90c96493f617">statusChanged</a>();</div>
<div class="line"><span class="lineno">  225</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ae38334aaad59aebcf315ed7f1f4efc42" name="ae38334aaad59aebcf315ed7f1f4efc42"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae38334aaad59aebcf315ed7f1f4efc42">&#9670;&#160;</a></span>onBackgroundSaveFinished</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MainWindow::onBackgroundSaveFinished </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span><span class="mlabel slot">slot</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mainwindow_8cpp_source.html#l00497">497</a> of file <a class="el" href="mainwindow_8cpp_source.html">mainwindow.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  497</span>                                          {</div>
<div class="line"><span class="lineno">  498</span>    <a class="code hl_variable" href="#a129aa70bf893c18f9a8e802732110906">m_status</a> = <span class="stringliteral">&quot;✅ Dane zostały zapisane w tle&quot;</span>;</div>
<div class="line"><span class="lineno">  499</span>    emit <a class="code hl_signal" href="#af63d0bdd203b1b2d04bb90c96493f617">statusChanged</a>();</div>
<div class="line"><span class="lineno">  500</span> </div>
<div class="line"><span class="lineno">  501</span>    <span class="comment">// Odświeżamy timestamp po zakończeniu zapisu</span></div>
<div class="line"><span class="lineno">  502</span>    <a class="code hl_variable" href="#a19c5ccae9a75cd75997a591bf753fe3f">m_lastUpdate</a> = QDateTime::currentDateTime().toString(Qt::ISODate);</div>
<div class="line"><span class="lineno">  503</span>    emit <a class="code hl_signal" href="#a9f773b53838914b4aebce97693344381">lastUpdateChanged</a>();</div>
<div class="line"><span class="lineno">  504</span> </div>
<div class="line"><span class="lineno">  505</span>    qDebug() &lt;&lt; <span class="stringliteral">&quot;✅ Zapis danych w tle zakończony&quot;</span>;</div>
<div class="line"><span class="lineno">  506</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="abc8e6de353c3a75fe139bf824fc5f372" name="abc8e6de353c3a75fe139bf824fc5f372"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc8e6de353c3a75fe139bf824fc5f372">&#9670;&#160;</a></span>onNetworkReply</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MainWindow::onNetworkReply </td>
          <td>(</td>
          <td class="paramtype">QNetworkReply *</td>          <td class="paramname"><span class="paramname"><em>reply</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span><span class="mlabel slot">slot</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mainwindow_8cpp_source.html#l00508">508</a> of file <a class="el" href="mainwindow_8cpp_source.html">mainwindow.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  508</span>                                                    {</div>
<div class="line"><span class="lineno">  509</span>    <span class="keywordflow">if</span> (reply-&gt;error() != QNetworkReply::NoError) {</div>
<div class="line"><span class="lineno">  510</span>        <a class="code hl_variable" href="#a129aa70bf893c18f9a8e802732110906">m_status</a> = <span class="stringliteral">&quot;❗ Błąd sieci: &quot;</span> + reply-&gt;errorString();</div>
<div class="line"><span class="lineno">  511</span>        emit <a class="code hl_signal" href="#af63d0bdd203b1b2d04bb90c96493f617">statusChanged</a>();</div>
<div class="line"><span class="lineno">  512</span>        reply-&gt;deleteLater();</div>
<div class="line"><span class="lineno">  513</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  514</span>    }</div>
<div class="line"><span class="lineno">  515</span> </div>
<div class="line"><span class="lineno">  516</span>    QByteArray responseData = reply-&gt;readAll();</div>
<div class="line"><span class="lineno">  517</span>    <span class="keywordflow">if</span> (responseData.isEmpty()) {</div>
<div class="line"><span class="lineno">  518</span>        <a class="code hl_variable" href="#a129aa70bf893c18f9a8e802732110906">m_status</a> = <span class="stringliteral">&quot;❗ Otrzymano pustą odpowiedź z API&quot;</span>;</div>
<div class="line"><span class="lineno">  519</span>        emit <a class="code hl_signal" href="#af63d0bdd203b1b2d04bb90c96493f617">statusChanged</a>();</div>
<div class="line"><span class="lineno">  520</span>        reply-&gt;deleteLater();</div>
<div class="line"><span class="lineno">  521</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  522</span>    }</div>
<div class="line"><span class="lineno">  523</span> </div>
<div class="line"><span class="lineno">  524</span>    QUrl url = reply-&gt;url();</div>
<div class="line"><span class="lineno">  525</span>    QJsonParseError error;</div>
<div class="line"><span class="lineno">  526</span>    QJsonDocument doc = QJsonDocument::fromJson(responseData, &amp;error);</div>
<div class="line"><span class="lineno">  527</span> </div>
<div class="line"><span class="lineno">  528</span>    <span class="keywordflow">if</span> (error.error != QJsonParseError::NoError) {</div>
<div class="line"><span class="lineno">  529</span>        <a class="code hl_variable" href="#a129aa70bf893c18f9a8e802732110906">m_status</a> = <span class="stringliteral">&quot;❗ Błąd parsowania JSON: &quot;</span> + error.errorString();</div>
<div class="line"><span class="lineno">  530</span>        emit <a class="code hl_signal" href="#af63d0bdd203b1b2d04bb90c96493f617">statusChanged</a>();</div>
<div class="line"><span class="lineno">  531</span>        reply-&gt;deleteLater();</div>
<div class="line"><span class="lineno">  532</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  533</span>    }</div>
<div class="line"><span class="lineno">  534</span> </div>
<div class="line"><span class="lineno">  535</span>    qDebug() &lt;&lt; <span class="stringliteral">&quot;Otrzymano odpowiedź z:&quot;</span> &lt;&lt; url.toString();</div>
<div class="line"><span class="lineno">  536</span> </div>
<div class="line"><span class="lineno">  537</span>    <span class="keywordflow">if</span> (url.path().contains(<span class="stringliteral">&quot;/station/findAll&quot;</span>)) {</div>
<div class="line"><span class="lineno">  538</span>        <span class="comment">// Odpowiedź z listy stacji</span></div>
<div class="line"><span class="lineno">  539</span>        <a class="code hl_function" href="#ac8f3d842ed4ec6d050f7bd42ac94cb69">handleStationsReply</a>(doc);</div>
<div class="line"><span class="lineno">  540</span>    }</div>
<div class="line"><span class="lineno">  541</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (url.path().contains(<span class="stringliteral">&quot;/station/sensors/&quot;</span>)) {</div>
<div class="line"><span class="lineno">  542</span>        <span class="comment">// Odpowiedź z czujników stacji</span></div>
<div class="line"><span class="lineno">  543</span>        <a class="code hl_function" href="#a5538713341b186b45b3c88e395dadac5">handleSensorsReply</a>(doc);</div>
<div class="line"><span class="lineno">  544</span>    }</div>
<div class="line"><span class="lineno">  545</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (url.path().contains(<span class="stringliteral">&quot;/aqindex/getIndex/&quot;</span>)) {</div>
<div class="line"><span class="lineno">  546</span>        <span class="comment">// Odpowiedź z indeksu jakości powietrza</span></div>
<div class="line"><span class="lineno">  547</span>        <a class="code hl_function" href="#a0891b976eab162ecf05a74449bbc4de4">handleAirQualityIndexReply</a>(doc);</div>
<div class="line"><span class="lineno">  548</span>    }</div>
<div class="line"><span class="lineno">  549</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (url.path().contains(<span class="stringliteral">&quot;/data/getData/&quot;</span>)) {</div>
<div class="line"><span class="lineno">  550</span>        <span class="comment">// Odpowiedź z danych pomiarowych czujnika</span></div>
<div class="line"><span class="lineno">  551</span>        <span class="keywordtype">int</span> sensorId = url.path().split(<span class="stringliteral">&quot;/&quot;</span>).last().toInt();</div>
<div class="line"><span class="lineno">  552</span>        <a class="code hl_function" href="#a456e3569512c243fda339b3da6052d65">handleSensorDataReply</a>(doc, sensorId);</div>
<div class="line"><span class="lineno">  553</span>    }</div>
<div class="line"><span class="lineno">  554</span> </div>
<div class="line"><span class="lineno">  555</span>    reply-&gt;deleteLater();</div>
<div class="line"><span class="lineno">  556</span>}</div>
<div class="ttc" id="aclass_main_window_html_a0891b976eab162ecf05a74449bbc4de4"><div class="ttname"><a href="#a0891b976eab162ecf05a74449bbc4de4">MainWindow::handleAirQualityIndexReply</a></div><div class="ttdeci">void handleAirQualityIndexReply(const QJsonDocument &amp;doc)</div><div class="ttdef"><b>Definition</b> <a href="mainwindow_8cpp_source.html#l00700">mainwindow.cpp:700</a></div></div>
<div class="ttc" id="aclass_main_window_html_a456e3569512c243fda339b3da6052d65"><div class="ttname"><a href="#a456e3569512c243fda339b3da6052d65">MainWindow::handleSensorDataReply</a></div><div class="ttdeci">void handleSensorDataReply(const QJsonDocument &amp;doc, int sensorId)</div><div class="ttdef"><b>Definition</b> <a href="mainwindow_8cpp_source.html#l00769">mainwindow.cpp:769</a></div></div>
<div class="ttc" id="aclass_main_window_html_a5538713341b186b45b3c88e395dadac5"><div class="ttname"><a href="#a5538713341b186b45b3c88e395dadac5">MainWindow::handleSensorsReply</a></div><div class="ttdeci">void handleSensorsReply(const QJsonDocument &amp;doc)</div><div class="ttdef"><b>Definition</b> <a href="mainwindow_8cpp_source.html#l00625">mainwindow.cpp:625</a></div></div>
<div class="ttc" id="aclass_main_window_html_ac8f3d842ed4ec6d050f7bd42ac94cb69"><div class="ttname"><a href="#ac8f3d842ed4ec6d050f7bd42ac94cb69">MainWindow::handleStationsReply</a></div><div class="ttdeci">void handleStationsReply(const QJsonDocument &amp;doc)</div><div class="ttdef"><b>Definition</b> <a href="mainwindow_8cpp_source.html#l00558">mainwindow.cpp:558</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8a4142aea647648c3393594409739e69" name="a8a4142aea647648c3393594409739e69"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a4142aea647648c3393594409739e69">&#9670;&#160;</a></span>openSensorChart()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MainWindow::openSensorChart </td>
          <td>(</td>
          <td class="paramtype">QVariantMap</td>          <td class="paramname"><span class="paramname"><em>sensor</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mainwindow_8cpp_source.html#l00383">383</a> of file <a class="el" href="mainwindow_8cpp_source.html">mainwindow.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  383</span>                                                   {</div>
<div class="line"><span class="lineno">  384</span>    <a class="code hl_variable" href="#a597211ebd3205c040e239b20b4ac6a1b">m_selectedSensor</a> = sensor;</div>
<div class="line"><span class="lineno">  385</span>    emit <a class="code hl_signal" href="#acb31267dab151ff2328629559832cb1d">selectedSensorChanged</a>();</div>
<div class="line"><span class="lineno">  386</span> </div>
<div class="line"><span class="lineno">  387</span>    <span class="keywordtype">int</span> sensorId = sensor[<span class="stringliteral">&quot;id&quot;</span>].toInt();</div>
<div class="line"><span class="lineno">  388</span> </div>
<div class="line"><span class="lineno">  389</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="#afa9323f1c05f963651440d5f36ef4c76">m_isOnline</a>) {</div>
<div class="line"><span class="lineno">  390</span>        <a class="code hl_variable" href="#a129aa70bf893c18f9a8e802732110906">m_status</a> = <span class="stringliteral">&quot;⏳ Pobieranie danych pomiarowych...&quot;</span>;</div>
<div class="line"><span class="lineno">  391</span>        emit <a class="code hl_signal" href="#af63d0bdd203b1b2d04bb90c96493f617">statusChanged</a>();</div>
<div class="line"><span class="lineno">  392</span>        <a class="code hl_variable" href="#a7cc5248d2dc440404469679d749ddbe7">m_networkManager</a>-&gt;get(QNetworkRequest(QUrl(<span class="stringliteral">&quot;https://api.gios.gov.pl/pjp-api/rest/data/getData/&quot;</span> + QString::number(sensorId))));</div>
<div class="line"><span class="lineno">  393</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  394</span>        <span class="comment">// Wczytaj dane pomiarowe z pliku</span></div>
<div class="line"><span class="lineno">  395</span>        QString filename = <span class="stringliteral">&quot;data/sensor_&quot;</span> + QString::number(sensorId) + <span class="stringliteral">&quot;.json&quot;</span>;</div>
<div class="line"><span class="lineno">  396</span>        QFile file(filename);</div>
<div class="line"><span class="lineno">  397</span>        <span class="keywordflow">if</span> (file.exists() &amp;&amp; file.open(QIODevice::ReadOnly)) {</div>
<div class="line"><span class="lineno">  398</span>            QJsonDocument doc = QJsonDocument::fromJson(file.readAll());</div>
<div class="line"><span class="lineno">  399</span>            file.close();</div>
<div class="line"><span class="lineno">  400</span>            <a class="code hl_variable" href="#a57118789654284026f99a38f9748efa1">m_sensorMeasurements</a> = doc.toVariant().toList();</div>
<div class="line"><span class="lineno">  401</span>            qDebug() &lt;&lt; <span class="stringliteral">&quot;✅ Wczytano&quot;</span> &lt;&lt; <a class="code hl_variable" href="#a57118789654284026f99a38f9748efa1">m_sensorMeasurements</a>.size() &lt;&lt; <span class="stringliteral">&quot;pomiarów dla czujnika&quot;</span> &lt;&lt; sensorId;</div>
<div class="line"><span class="lineno">  402</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  403</span>            qWarning() &lt;&lt; <span class="stringliteral">&quot;⚠️ Brak danych pomiarowych dla czujnika&quot;</span> &lt;&lt; sensorId;</div>
<div class="line"><span class="lineno">  404</span>            <a class="code hl_variable" href="#a57118789654284026f99a38f9748efa1">m_sensorMeasurements</a>.clear();</div>
<div class="line"><span class="lineno">  405</span>        }</div>
<div class="line"><span class="lineno">  406</span>        emit <a class="code hl_signal" href="#a95811818c6bbba9387599028cd2a4b42">sensorMeasurementsChanged</a>();</div>
<div class="line"><span class="lineno">  407</span> </div>
<div class="line"><span class="lineno">  408</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="#a57118789654284026f99a38f9748efa1">m_sensorMeasurements</a>.isEmpty()) {</div>
<div class="line"><span class="lineno">  409</span>            <a class="code hl_variable" href="#a129aa70bf893c18f9a8e802732110906">m_status</a> = <span class="stringliteral">&quot;⚠️ Brak danych dla wykresu (offline)&quot;</span>;</div>
<div class="line"><span class="lineno">  410</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  411</span>            <a class="code hl_variable" href="#a129aa70bf893c18f9a8e802732110906">m_status</a> = <span class="stringliteral">&quot;📊 Wykres (dane offline)&quot;</span>;</div>
<div class="line"><span class="lineno">  412</span>        }</div>
<div class="line"><span class="lineno">  413</span>        emit <a class="code hl_signal" href="#af63d0bdd203b1b2d04bb90c96493f617">statusChanged</a>();</div>
<div class="line"><span class="lineno">  414</span>    }</div>
<div class="line"><span class="lineno">  415</span> </div>
<div class="line"><span class="lineno">  416</span>    <a class="code hl_variable" href="#a37444fda0cbae2fddae3d53ffb4c525d">m_chartViewVisible</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  417</span>    <a class="code hl_variable" href="#aaa9840f4efbb607c7d95a8d7db2e71b1">m_sensorViewVisible</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  418</span>    emit <a class="code hl_signal" href="#a2f31d14cf5c4d7d140d95ca3b1221913">chartViewVisibleChanged</a>();</div>
<div class="line"><span class="lineno">  419</span>    emit <a class="code hl_signal" href="#aff62f1b26fca3dc2abceebc8e6827d4b">sensorViewVisibleChanged</a>();</div>
<div class="line"><span class="lineno">  420</span>}</div>
<div class="ttc" id="aclass_main_window_html_acb31267dab151ff2328629559832cb1d"><div class="ttname"><a href="#acb31267dab151ff2328629559832cb1d">MainWindow::selectedSensorChanged</a></div><div class="ttdeci">void selectedSensorChanged()</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6a641523a51791b8674e9909daabc1a0" name="a6a641523a51791b8674e9909daabc1a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a641523a51791b8674e9909daabc1a0">&#9670;&#160;</a></span>saveDataIfDue</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MainWindow::saveDataIfDue </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span><span class="mlabel slot">slot</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mainwindow_8cpp_source.html#l00470">470</a> of file <a class="el" href="mainwindow_8cpp_source.html">mainwindow.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  470</span>                               {</div>
<div class="line"><span class="lineno">  471</span>    QTime currentTime = QTime::currentTime();</div>
<div class="line"><span class="lineno">  472</span> </div>
<div class="line"><span class="lineno">  473</span>    <span class="comment">// Zapisuj co godzinę (gdy minuty == 0)</span></div>
<div class="line"><span class="lineno">  474</span>    <span class="keywordflow">if</span> (currentTime.minute() == 0) {</div>
<div class="line"><span class="lineno">  475</span>        qDebug() &lt;&lt; <span class="stringliteral">&quot;Wykonuję automatyczny pełny zapis danych (co godzinę)&quot;</span>;</div>
<div class="line"><span class="lineno">  476</span> </div>
<div class="line"><span class="lineno">  477</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="#afa9323f1c05f963651440d5f36ef4c76">m_isOnline</a>) {</div>
<div class="line"><span class="lineno">  478</span>            <span class="comment">// Pobierz i zapisz wszystkie dane</span></div>
<div class="line"><span class="lineno">  479</span>            <a class="code hl_function" href="#aa806087b55ef11ef8d30ae0b376d00ee">saveTestDataForAllStations</a>();</div>
<div class="line"><span class="lineno">  480</span>        }</div>
<div class="line"><span class="lineno">  481</span>    }</div>
<div class="line"><span class="lineno">  482</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aceffba665b00b06bd9b888b3117de5d1" name="aceffba665b00b06bd9b888b3117de5d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aceffba665b00b06bd9b888b3117de5d1">&#9670;&#160;</a></span>saveDataToFileOnly()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MainWindow::saveDataToFileOnly </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mainwindow_8cpp_source.html#l00484">484</a> of file <a class="el" href="mainwindow_8cpp_source.html">mainwindow.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  484</span>                                    {</div>
<div class="line"><span class="lineno">  485</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="#afa9323f1c05f963651440d5f36ef4c76">m_isOnline</a>) {</div>
<div class="line"><span class="lineno">  486</span>        <a class="code hl_variable" href="#a129aa70bf893c18f9a8e802732110906">m_status</a> = <span class="stringliteral">&quot;💾 Rozpoczynam pełny zapis danych...&quot;</span>;</div>
<div class="line"><span class="lineno">  487</span>        emit <a class="code hl_signal" href="#af63d0bdd203b1b2d04bb90c96493f617">statusChanged</a>();</div>
<div class="line"><span class="lineno">  488</span> </div>
<div class="line"><span class="lineno">  489</span>        <span class="comment">// Jeśli online, odśwież dane najpierw</span></div>
<div class="line"><span class="lineno">  490</span>        <a class="code hl_function" href="#abd4e34cbb1e845a35c9d09ef4c390ffc">fetchStations</a>();</div>
<div class="line"><span class="lineno">  491</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  492</span>        <a class="code hl_variable" href="#a129aa70bf893c18f9a8e802732110906">m_status</a> = <span class="stringliteral">&quot;⚠️ Nie można zaktualizować danych - brak internetu&quot;</span>;</div>
<div class="line"><span class="lineno">  493</span>        emit <a class="code hl_signal" href="#af63d0bdd203b1b2d04bb90c96493f617">statusChanged</a>();</div>
<div class="line"><span class="lineno">  494</span>    }</div>
<div class="line"><span class="lineno">  495</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aa806087b55ef11ef8d30ae0b376d00ee" name="aa806087b55ef11ef8d30ae0b376d00ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa806087b55ef11ef8d30ae0b376d00ee">&#9670;&#160;</a></span>saveTestDataForAllStations()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MainWindow::saveTestDataForAllStations </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mainwindow_8cpp_source.html#l00865">865</a> of file <a class="el" href="mainwindow_8cpp_source.html">mainwindow.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  865</span>                                            {</div>
<div class="line"><span class="lineno">  866</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="#afa9323f1c05f963651440d5f36ef4c76">m_isOnline</a>) {</div>
<div class="line"><span class="lineno">  867</span>        <a class="code hl_variable" href="#a129aa70bf893c18f9a8e802732110906">m_status</a> = <span class="stringliteral">&quot;❌ Brak internetu – nie można zapisać&quot;</span>;</div>
<div class="line"><span class="lineno">  868</span>        emit <a class="code hl_signal" href="#af63d0bdd203b1b2d04bb90c96493f617">statusChanged</a>();</div>
<div class="line"><span class="lineno">  869</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  870</span>    }</div>
<div class="line"><span class="lineno">  871</span> </div>
<div class="line"><span class="lineno">  872</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="#a86041b7cbfde456b3d51ad8d9c533557">m_dataWorker</a>) {</div>
<div class="line"><span class="lineno">  873</span>        <a class="code hl_variable" href="#a129aa70bf893c18f9a8e802732110906">m_status</a> = <span class="stringliteral">&quot;⏳ Zapis już trwa...&quot;</span>;</div>
<div class="line"><span class="lineno">  874</span>        emit <a class="code hl_signal" href="#af63d0bdd203b1b2d04bb90c96493f617">statusChanged</a>();</div>
<div class="line"><span class="lineno">  875</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  876</span>    }</div>
<div class="line"><span class="lineno">  877</span> </div>
<div class="line"><span class="lineno">  878</span>    <a class="code hl_variable" href="#a129aa70bf893c18f9a8e802732110906">m_status</a> = <span class="stringliteral">&quot;💾 Trwa zapisywanie wszystkich danych w tle...&quot;</span>;</div>
<div class="line"><span class="lineno">  879</span>    emit <a class="code hl_signal" href="#af63d0bdd203b1b2d04bb90c96493f617">statusChanged</a>();</div>
<div class="line"><span class="lineno">  880</span> </div>
<div class="line"><span class="lineno">  881</span>    <a class="code hl_variable" href="#a8866e8799aeab1b7346395f410a5f8b6">m_workerThread</a> = <span class="keyword">new</span> QThread(<span class="keyword">this</span>);</div>
<div class="line"><span class="lineno">  882</span>    <a class="code hl_variable" href="#a86041b7cbfde456b3d51ad8d9c533557">m_dataWorker</a> = <span class="keyword">new</span> DataSaverWorker();</div>
<div class="line"><span class="lineno">  883</span>    <a class="code hl_variable" href="#a86041b7cbfde456b3d51ad8d9c533557">m_dataWorker</a>-&gt;moveToThread(<a class="code hl_variable" href="#a8866e8799aeab1b7346395f410a5f8b6">m_workerThread</a>);</div>
<div class="line"><span class="lineno">  884</span> </div>
<div class="line"><span class="lineno">  885</span>    connect(<a class="code hl_variable" href="#a8866e8799aeab1b7346395f410a5f8b6">m_workerThread</a>, &amp;QThread::started, <a class="code hl_variable" href="#a86041b7cbfde456b3d51ad8d9c533557">m_dataWorker</a>, &amp;<a class="code hl_slot" href="class_data_saver_worker.html#a9e4d625c9c07fd3cd1b177e2844a08ce">DataSaverWorker::startSaving</a>);</div>
<div class="line"><span class="lineno">  886</span>    connect(<a class="code hl_variable" href="#a86041b7cbfde456b3d51ad8d9c533557">m_dataWorker</a>, &amp;<a class="code hl_signal" href="class_data_saver_worker.html#ae7e95d8726ed558f5d90df082d817c53">DataSaverWorker::savingFinished</a>, <span class="keyword">this</span>, &amp;<a class="code hl_slot" href="#ae38334aaad59aebcf315ed7f1f4efc42">MainWindow::onBackgroundSaveFinished</a>);</div>
<div class="line"><span class="lineno">  887</span>    connect(<a class="code hl_variable" href="#a86041b7cbfde456b3d51ad8d9c533557">m_dataWorker</a>, &amp;<a class="code hl_signal" href="class_data_saver_worker.html#ae7e95d8726ed558f5d90df082d817c53">DataSaverWorker::savingFinished</a>, <a class="code hl_variable" href="#a8866e8799aeab1b7346395f410a5f8b6">m_workerThread</a>, &amp;QThread::quit);</div>
<div class="line"><span class="lineno">  888</span>    connect(<a class="code hl_variable" href="#a8866e8799aeab1b7346395f410a5f8b6">m_workerThread</a>, &amp;QThread::finished, <a class="code hl_variable" href="#a86041b7cbfde456b3d51ad8d9c533557">m_dataWorker</a>, &amp;QObject::deleteLater);</div>
<div class="line"><span class="lineno">  889</span>    connect(<a class="code hl_variable" href="#a8866e8799aeab1b7346395f410a5f8b6">m_workerThread</a>, &amp;QThread::finished, <a class="code hl_variable" href="#a8866e8799aeab1b7346395f410a5f8b6">m_workerThread</a>, &amp;QObject::deleteLater);</div>
<div class="line"><span class="lineno">  890</span>    connect(<a class="code hl_variable" href="#a8866e8799aeab1b7346395f410a5f8b6">m_workerThread</a>, &amp;QThread::finished, <span class="keyword">this</span>, [<span class="keyword">this</span>]() {</div>
<div class="line"><span class="lineno">  891</span>        <a class="code hl_variable" href="#a86041b7cbfde456b3d51ad8d9c533557">m_dataWorker</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  892</span>        <a class="code hl_variable" href="#a8866e8799aeab1b7346395f410a5f8b6">m_workerThread</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  893</span>    });</div>
<div class="line"><span class="lineno">  894</span> </div>
<div class="line"><span class="lineno">  895</span>    <a class="code hl_variable" href="#a8866e8799aeab1b7346395f410a5f8b6">m_workerThread</a>-&gt;start();</div>
<div class="line"><span class="lineno">  896</span>}</div>
<div class="ttc" id="aclass_data_saver_worker_html_a9e4d625c9c07fd3cd1b177e2844a08ce"><div class="ttname"><a href="class_data_saver_worker.html#a9e4d625c9c07fd3cd1b177e2844a08ce">DataSaverWorker::startSaving</a></div><div class="ttdeci">void startSaving()</div><div class="ttdef"><b>Definition</b> <a href="dataloaderworker_8cpp_source.html#l00019">dataloaderworker.cpp:19</a></div></div>
<div class="ttc" id="aclass_data_saver_worker_html_ae7e95d8726ed558f5d90df082d817c53"><div class="ttname"><a href="class_data_saver_worker.html#ae7e95d8726ed558f5d90df082d817c53">DataSaverWorker::savingFinished</a></div><div class="ttdeci">void savingFinished()</div></div>
<div class="ttc" id="aclass_main_window_html_a86041b7cbfde456b3d51ad8d9c533557"><div class="ttname"><a href="#a86041b7cbfde456b3d51ad8d9c533557">MainWindow::m_dataWorker</a></div><div class="ttdeci">DataSaverWorker * m_dataWorker</div><div class="ttdef"><b>Definition</b> <a href="mainwindow_8h_source.html#l00016">mainwindow.h:16</a></div></div>
<div class="ttc" id="aclass_main_window_html_a8866e8799aeab1b7346395f410a5f8b6"><div class="ttname"><a href="#a8866e8799aeab1b7346395f410a5f8b6">MainWindow::m_workerThread</a></div><div class="ttdeci">QThread * m_workerThread</div><div class="ttdef"><b>Definition</b> <a href="mainwindow_8h_source.html#l00015">mainwindow.h:15</a></div></div>
<div class="ttc" id="aclass_main_window_html_ae38334aaad59aebcf315ed7f1f4efc42"><div class="ttname"><a href="#ae38334aaad59aebcf315ed7f1f4efc42">MainWindow::onBackgroundSaveFinished</a></div><div class="ttdeci">void onBackgroundSaveFinished()</div><div class="ttdef"><b>Definition</b> <a href="mainwindow_8cpp_source.html#l00497">mainwindow.cpp:497</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8424c47f3fbefe437975edb8cd31782c" name="a8424c47f3fbefe437975edb8cd31782c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8424c47f3fbefe437975edb8cd31782c">&#9670;&#160;</a></span>selectedSensor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QVariantMap MainWindow::selectedSensor </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mainwindow_8h_source.html#l00097">97</a> of file <a class="el" href="mainwindow_8h_source.html">mainwindow.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   97</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="#a597211ebd3205c040e239b20b4ac6a1b">m_selectedSensor</a>; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="acb31267dab151ff2328629559832cb1d" name="acb31267dab151ff2328629559832cb1d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb31267dab151ff2328629559832cb1d">&#9670;&#160;</a></span>selectedSensorChanged</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MainWindow::selectedSensorChanged </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel signal">signal</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a9aaedd90463352cf8140d1fd62d06420" name="a9aaedd90463352cf8140d1fd62d06420"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9aaedd90463352cf8140d1fd62d06420">&#9670;&#160;</a></span>selectedStation()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QVariantMap MainWindow::selectedStation </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mainwindow_8h_source.html#l00096">96</a> of file <a class="el" href="mainwindow_8h_source.html">mainwindow.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   96</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="#a0ab136ba16cc1dfddea1f5f4e97ca4b0">m_selectedStation</a>; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a34d59288f05742b9a8f3b087f3c4faa7" name="a34d59288f05742b9a8f3b087f3c4faa7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34d59288f05742b9a8f3b087f3c4faa7">&#9670;&#160;</a></span>selectedStationChanged</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MainWindow::selectedStationChanged </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel signal">signal</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="abdead1f1e924ceca124bc9500c7d206c" name="abdead1f1e924ceca124bc9500c7d206c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abdead1f1e924ceca124bc9500c7d206c">&#9670;&#160;</a></span>sensorMeasurements()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QVariantList MainWindow::sensorMeasurements </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mainwindow_8h_source.html#l00095">95</a> of file <a class="el" href="mainwindow_8h_source.html">mainwindow.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   95</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="#a57118789654284026f99a38f9748efa1">m_sensorMeasurements</a>; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a95811818c6bbba9387599028cd2a4b42" name="a95811818c6bbba9387599028cd2a4b42"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95811818c6bbba9387599028cd2a4b42">&#9670;&#160;</a></span>sensorMeasurementsChanged</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MainWindow::sensorMeasurementsChanged </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel signal">signal</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a2af76fc67e7a019ff4a15e1760b87c2c" name="a2af76fc67e7a019ff4a15e1760b87c2c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2af76fc67e7a019ff4a15e1760b87c2c">&#9670;&#160;</a></span>sensors()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QVariantList MainWindow::sensors </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mainwindow_8h_source.html#l00094">94</a> of file <a class="el" href="mainwindow_8h_source.html">mainwindow.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   94</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="#a92bf654c17191fc98ea2531558cf877d">m_sensors</a>; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a91c4b769235bc0aafc20ad7b2fb2a1e3" name="a91c4b769235bc0aafc20ad7b2fb2a1e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91c4b769235bc0aafc20ad7b2fb2a1e3">&#9670;&#160;</a></span>sensorsChanged</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MainWindow::sensorsChanged </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel signal">signal</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a99a9446d77bd124b81bbfc1e29ba0282" name="a99a9446d77bd124b81bbfc1e29ba0282"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99a9446d77bd124b81bbfc1e29ba0282">&#9670;&#160;</a></span>sensorViewVisible()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool MainWindow::sensorViewVisible </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mainwindow_8h_source.html#l00101">101</a> of file <a class="el" href="mainwindow_8h_source.html">mainwindow.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  101</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="#aaa9840f4efbb607c7d95a8d7db2e71b1">m_sensorViewVisible</a>; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="aff62f1b26fca3dc2abceebc8e6827d4b" name="aff62f1b26fca3dc2abceebc8e6827d4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff62f1b26fca3dc2abceebc8e6827d4b">&#9670;&#160;</a></span>sensorViewVisibleChanged</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MainWindow::sensorViewVisibleChanged </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel signal">signal</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a0afd434f13cc0d71c19cc927145c59c6" name="a0afd434f13cc0d71c19cc927145c59c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0afd434f13cc0d71c19cc927145c59c6">&#9670;&#160;</a></span>setSelectedStation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MainWindow::setSelectedStation </td>
          <td>(</td>
          <td class="paramtype">QVariantMap</td>          <td class="paramname"><span class="paramname"><em>station</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mainwindow_8cpp_source.html#l00422">422</a> of file <a class="el" href="mainwindow_8cpp_source.html">mainwindow.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  422</span>                                                       {</div>
<div class="line"><span class="lineno">  423</span>    <a class="code hl_variable" href="#a0ab136ba16cc1dfddea1f5f4e97ca4b0">m_selectedStation</a> = station;</div>
<div class="line"><span class="lineno">  424</span>    emit <a class="code hl_signal" href="#a34d59288f05742b9a8f3b087f3c4faa7">selectedStationChanged</a>();</div>
<div class="line"><span class="lineno">  425</span>}</div>
<div class="ttc" id="aclass_main_window_html_a34d59288f05742b9a8f3b087f3c4faa7"><div class="ttname"><a href="#a34d59288f05742b9a8f3b087f3c4faa7">MainWindow::selectedStationChanged</a></div><div class="ttdeci">void selectedStationChanged()</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a095ddb4b7e08e542f1a148ac5e5ce111" name="a095ddb4b7e08e542f1a148ac5e5ce111"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a095ddb4b7e08e542f1a148ac5e5ce111">&#9670;&#160;</a></span>stations()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QVariantList MainWindow::stations </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mainwindow_8h_source.html#l00093">93</a> of file <a class="el" href="mainwindow_8h_source.html">mainwindow.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   93</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="#a3dfc1fa389fd999243084db2f6284eb5">m_filteredStations</a>; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="ad6d230c53c3628833a80896fa729c06a" name="ad6d230c53c3628833a80896fa729c06a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6d230c53c3628833a80896fa729c06a">&#9670;&#160;</a></span>stationsChanged</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MainWindow::stationsChanged </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel signal">signal</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="aa88f4d6f7467cbbc3fe3930697ada25f" name="aa88f4d6f7467cbbc3fe3930697ada25f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa88f4d6f7467cbbc3fe3930697ada25f">&#9670;&#160;</a></span>status()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QString MainWindow::status </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mainwindow_8h_source.html#l00099">99</a> of file <a class="el" href="mainwindow_8h_source.html">mainwindow.h</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   99</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="#a129aa70bf893c18f9a8e802732110906">m_status</a>; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="af63d0bdd203b1b2d04bb90c96493f617" name="af63d0bdd203b1b2d04bb90c96493f617"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af63d0bdd203b1b2d04bb90c96493f617">&#9670;&#160;</a></span>statusChanged</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void MainWindow::statusChanged </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel signal">signal</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="aba97641386a9fdee9de45a54da8f502b" name="aba97641386a9fdee9de45a54da8f502b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba97641386a9fdee9de45a54da8f502b">&#9670;&#160;</a></span>hourlySaveTimer</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QTimer* MainWindow::hourlySaveTimer</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mainwindow_8h_source.html#l00063">63</a> of file <a class="el" href="mainwindow_8h_source.html">mainwindow.h</a>.</p>

</div>
</div>
<a id="ae35db65fe2426514abda944ec891ed3d" name="ae35db65fe2426514abda944ec891ed3d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae35db65fe2426514abda944ec891ed3d">&#9670;&#160;</a></span>internetCheckTimer</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QTimer* MainWindow::internetCheckTimer</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mainwindow_8h_source.html#l00064">64</a> of file <a class="el" href="mainwindow_8h_source.html">mainwindow.h</a>.</p>

</div>
</div>
<a id="ad104e1305d8d161bdf6985ef5dd48f5e" name="ad104e1305d8d161bdf6985ef5dd48f5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad104e1305d8d161bdf6985ef5dd48f5e">&#9670;&#160;</a></span>m_airQualityIndex</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QVariantMap MainWindow::m_airQualityIndex</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mainwindow_8h_source.html#l00072">72</a> of file <a class="el" href="mainwindow_8h_source.html">mainwindow.h</a>.</p>

</div>
</div>
<a id="ab5328eb2844190cc939f27c78aa8f6f9" name="ab5328eb2844190cc939f27c78aa8f6f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5328eb2844190cc939f27c78aa8f6f9">&#9670;&#160;</a></span>m_allStations</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QVariantList MainWindow::m_allStations</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mainwindow_8h_source.html#l00066">66</a> of file <a class="el" href="mainwindow_8h_source.html">mainwindow.h</a>.</p>

</div>
</div>
<a id="a37444fda0cbae2fddae3d53ffb4c525d" name="a37444fda0cbae2fddae3d53ffb4c525d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37444fda0cbae2fddae3d53ffb4c525d">&#9670;&#160;</a></span>m_chartViewVisible</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool MainWindow::m_chartViewVisible</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mainwindow_8h_source.html#l00077">77</a> of file <a class="el" href="mainwindow_8h_source.html">mainwindow.h</a>.</p>

</div>
</div>
<a id="a86041b7cbfde456b3d51ad8d9c533557" name="a86041b7cbfde456b3d51ad8d9c533557"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86041b7cbfde456b3d51ad8d9c533557">&#9670;&#160;</a></span>m_dataWorker</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_data_saver_worker.html">DataSaverWorker</a>* MainWindow::m_dataWorker = nullptr</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mainwindow_8h_source.html#l00016">16</a> of file <a class="el" href="mainwindow_8h_source.html">mainwindow.h</a>.</p>

</div>
</div>
<a id="a3dfc1fa389fd999243084db2f6284eb5" name="a3dfc1fa389fd999243084db2f6284eb5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3dfc1fa389fd999243084db2f6284eb5">&#9670;&#160;</a></span>m_filteredStations</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QVariantList MainWindow::m_filteredStations</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mainwindow_8h_source.html#l00067">67</a> of file <a class="el" href="mainwindow_8h_source.html">mainwindow.h</a>.</p>

</div>
</div>
<a id="afa9323f1c05f963651440d5f36ef4c76" name="afa9323f1c05f963651440d5f36ef4c76"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa9323f1c05f963651440d5f36ef4c76">&#9670;&#160;</a></span>m_isOnline</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool MainWindow::m_isOnline</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mainwindow_8h_source.html#l00078">78</a> of file <a class="el" href="mainwindow_8h_source.html">mainwindow.h</a>.</p>

</div>
</div>
<a id="a19c5ccae9a75cd75997a591bf753fe3f" name="a19c5ccae9a75cd75997a591bf753fe3f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a19c5ccae9a75cd75997a591bf753fe3f">&#9670;&#160;</a></span>m_lastUpdate</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QString MainWindow::m_lastUpdate</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mainwindow_8h_source.html#l00075">75</a> of file <a class="el" href="mainwindow_8h_source.html">mainwindow.h</a>.</p>

</div>
</div>
<a id="a7cc5248d2dc440404469679d749ddbe7" name="a7cc5248d2dc440404469679d749ddbe7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7cc5248d2dc440404469679d749ddbe7">&#9670;&#160;</a></span>m_networkManager</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QNetworkAccessManager* MainWindow::m_networkManager</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mainwindow_8h_source.html#l00062">62</a> of file <a class="el" href="mainwindow_8h_source.html">mainwindow.h</a>.</p>

</div>
</div>
<a id="a597211ebd3205c040e239b20b4ac6a1b" name="a597211ebd3205c040e239b20b4ac6a1b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a597211ebd3205c040e239b20b4ac6a1b">&#9670;&#160;</a></span>m_selectedSensor</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QVariantMap MainWindow::m_selectedSensor</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mainwindow_8h_source.html#l00071">71</a> of file <a class="el" href="mainwindow_8h_source.html">mainwindow.h</a>.</p>

</div>
</div>
<a id="a0ab136ba16cc1dfddea1f5f4e97ca4b0" name="a0ab136ba16cc1dfddea1f5f4e97ca4b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ab136ba16cc1dfddea1f5f4e97ca4b0">&#9670;&#160;</a></span>m_selectedStation</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QVariantMap MainWindow::m_selectedStation</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mainwindow_8h_source.html#l00070">70</a> of file <a class="el" href="mainwindow_8h_source.html">mainwindow.h</a>.</p>

</div>
</div>
<a id="a57118789654284026f99a38f9748efa1" name="a57118789654284026f99a38f9748efa1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57118789654284026f99a38f9748efa1">&#9670;&#160;</a></span>m_sensorMeasurements</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QVariantList MainWindow::m_sensorMeasurements</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mainwindow_8h_source.html#l00069">69</a> of file <a class="el" href="mainwindow_8h_source.html">mainwindow.h</a>.</p>

</div>
</div>
<a id="a92bf654c17191fc98ea2531558cf877d" name="a92bf654c17191fc98ea2531558cf877d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92bf654c17191fc98ea2531558cf877d">&#9670;&#160;</a></span>m_sensors</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QVariantList MainWindow::m_sensors</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mainwindow_8h_source.html#l00068">68</a> of file <a class="el" href="mainwindow_8h_source.html">mainwindow.h</a>.</p>

</div>
</div>
<a id="aaa9840f4efbb607c7d95a8d7db2e71b1" name="aaa9840f4efbb607c7d95a8d7db2e71b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa9840f4efbb607c7d95a8d7db2e71b1">&#9670;&#160;</a></span>m_sensorViewVisible</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool MainWindow::m_sensorViewVisible</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mainwindow_8h_source.html#l00076">76</a> of file <a class="el" href="mainwindow_8h_source.html">mainwindow.h</a>.</p>

</div>
</div>
<a id="a129aa70bf893c18f9a8e802732110906" name="a129aa70bf893c18f9a8e802732110906"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a129aa70bf893c18f9a8e802732110906">&#9670;&#160;</a></span>m_status</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QString MainWindow::m_status</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mainwindow_8h_source.html#l00074">74</a> of file <a class="el" href="mainwindow_8h_source.html">mainwindow.h</a>.</p>

</div>
</div>
<a id="a8866e8799aeab1b7346395f410a5f8b6" name="a8866e8799aeab1b7346395f410a5f8b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8866e8799aeab1b7346395f410a5f8b6">&#9670;&#160;</a></span>m_workerThread</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QThread* MainWindow::m_workerThread = nullptr</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mainwindow_8h_source.html#l00015">15</a> of file <a class="el" href="mainwindow_8h_source.html">mainwindow.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Property Documentation</h2>
<a id="a55d95515b8a7ee77ce8d1ccbfb30fcf3" name="a55d95515b8a7ee77ce8d1ccbfb30fcf3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55d95515b8a7ee77ce8d1ccbfb30fcf3">&#9670;&#160;</a></span>airQualityIndex</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QVariantMap MainWindow::airQualityIndex</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel read">read</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mainwindow_8h_source.html#l00037">37</a> of file <a class="el" href="mainwindow_8h_source.html">mainwindow.h</a>.</p>

</div>
</div>
<a id="a7418dfec13aa9c1f24e68768d50c42ba" name="a7418dfec13aa9c1f24e68768d50c42ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7418dfec13aa9c1f24e68768d50c42ba">&#9670;&#160;</a></span>chartViewVisible</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool MainWindow::chartViewVisible</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel read">read</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mainwindow_8h_source.html#l00040">40</a> of file <a class="el" href="mainwindow_8h_source.html">mainwindow.h</a>.</p>

</div>
</div>
<a id="a0300fa4b2f076ca25c6dd944bd0f834a" name="a0300fa4b2f076ca25c6dd944bd0f834a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0300fa4b2f076ca25c6dd944bd0f834a">&#9670;&#160;</a></span>lastUpdate</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QString MainWindow::lastUpdate</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel read">read</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mainwindow_8h_source.html#l00041">41</a> of file <a class="el" href="mainwindow_8h_source.html">mainwindow.h</a>.</p>

</div>
</div>
<a id="af81eef6abdd790606cee564846d4567a" name="af81eef6abdd790606cee564846d4567a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af81eef6abdd790606cee564846d4567a">&#9670;&#160;</a></span>selectedSensor</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QVariantMap MainWindow::selectedSensor</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel read">read</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mainwindow_8h_source.html#l00036">36</a> of file <a class="el" href="mainwindow_8h_source.html">mainwindow.h</a>.</p>

</div>
</div>
<a id="a421ec1f271ac294ca1db2b095b1070e2" name="a421ec1f271ac294ca1db2b095b1070e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a421ec1f271ac294ca1db2b095b1070e2">&#9670;&#160;</a></span>selectedStation</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QVariantMap MainWindow::selectedStation</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel read">read</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mainwindow_8h_source.html#l00035">35</a> of file <a class="el" href="mainwindow_8h_source.html">mainwindow.h</a>.</p>

</div>
</div>
<a id="a72c0a35a7ae767146d02799d725cd605" name="a72c0a35a7ae767146d02799d725cd605"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72c0a35a7ae767146d02799d725cd605">&#9670;&#160;</a></span>sensorMeasurements</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QVariantList MainWindow::sensorMeasurements</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel read">read</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mainwindow_8h_source.html#l00034">34</a> of file <a class="el" href="mainwindow_8h_source.html">mainwindow.h</a>.</p>

</div>
</div>
<a id="a8e3c2790fab23140b174eea542d9ea73" name="a8e3c2790fab23140b174eea542d9ea73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e3c2790fab23140b174eea542d9ea73">&#9670;&#160;</a></span>sensors</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QVariantList MainWindow::sensors</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel read">read</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mainwindow_8h_source.html#l00033">33</a> of file <a class="el" href="mainwindow_8h_source.html">mainwindow.h</a>.</p>

</div>
</div>
<a id="af64572b8375f9f9e3156e5c7805a3abb" name="af64572b8375f9f9e3156e5c7805a3abb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af64572b8375f9f9e3156e5c7805a3abb">&#9670;&#160;</a></span>sensorViewVisible</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool MainWindow::sensorViewVisible</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel read">read</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mainwindow_8h_source.html#l00039">39</a> of file <a class="el" href="mainwindow_8h_source.html">mainwindow.h</a>.</p>

</div>
</div>
<a id="a3b94a120f9ce9d4f2786d96837917be4" name="a3b94a120f9ce9d4f2786d96837917be4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b94a120f9ce9d4f2786d96837917be4">&#9670;&#160;</a></span>stations</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QVariantList MainWindow::stations</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel read">read</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mainwindow_8h_source.html#l00032">32</a> of file <a class="el" href="mainwindow_8h_source.html">mainwindow.h</a>.</p>

</div>
</div>
<a id="a0f87209377d9aea8edec2169053b620e" name="a0f87209377d9aea8edec2169053b620e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f87209377d9aea8edec2169053b620e">&#9670;&#160;</a></span>status</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QString MainWindow::status</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel read">read</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="mainwindow_8h_source.html#l00038">38</a> of file <a class="el" href="mainwindow_8h_source.html">mainwindow.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="mainwindow_8h_source.html">mainwindow.h</a></li>
<li><a class="el" href="mainwindow_8cpp_source.html">mainwindow.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="class_main_window.html">MainWindow</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
